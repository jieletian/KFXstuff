LEVEL_VERSION(1)
SET_GENERATE_SPEED(300)
START_MONEY(PLAYER5,8500)
START_MONEY(PLAYER1,18500)
START_MONEY(PLAYER2,18500)
MAX_CREATURES(PLAYER5,30)
MAX_CREATURES(PLAYER1,20)
MAX_CREATURES(PLAYER2,20)

COMPUTER_PLAYER(PLAYER1,0)
COMPUTER_PLAYER(PLAYER2,0)

ALLY_PLAYERS(PLAYER1,PLAYER2,3)
ALLY_PLAYERS(PLAYER2,PLAYER1,3)
SET_GAME_RULE(AlliesShareCta,1)
SET_GAME_RULE(AlliesShareDrop,1)
SET_GAME_RULE(AlliesShareVision,1)
SET_GAME_RULE(ImpWorkExperience,350)

QUICK_OBJECTIVE(1,"欢迎您，陛下，您拿走了黄金城堡提供的所有宝藏。现在是时候继续前进，与那位双胞胎蝼蚁决斗了。祝你好运。",PLAYER0)


ADD_CREATURE_TO_POOL(AACOLYTE,40)
ADD_CREATURE_TO_POOL(AASSASSIN,40)
ADD_CREATURE_TO_POOL(AEXECUTIONER,40)
ADD_CREATURE_TO_POOL(AMERCENARY,40)
ADD_CREATURE_TO_POOL(ANECROMANCER,40)
ADD_CREATURE_TO_POOL(ANECROMANCERZOMBIE,40)
ADD_CREATURE_TO_POOL(APLAGUEDOCTOR,40)
ADD_CREATURE_TO_POOL(ASERVANT,40)
ADD_CREATURE_TO_POOL(AWARLOCK,40)

CREATURE_AVAILABLE(ALL_PLAYERS,AACOLYTE,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,AASSASSIN,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,AEXECUTIONER,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,AMERCENARY,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ANECROMANCER,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ANECROMANCERZOMBIE,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,APLAGUEDOCTOR,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ASERVANT,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,AWARLOCK,1,0)



ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER5,BRIDGE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,1,0)
ROOM_AVAILABLE(PLAYER1,WORKSHOP,1,0)
ROOM_AVAILABLE(PLAYER2,WORKSHOP,1,0)
ROOM_AVAILABLE(PLAYER1,PRISON,1,0)
ROOM_AVAILABLE(PLAYER2,PRISON,1,0)
ROOM_AVAILABLE(PLAYER1,BARRACKS,1,1)
ROOM_AVAILABLE(PLAYER2,BARRACKS,1,1)


MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_POSSESS,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_IMP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_LIGHTNING,1,0)

TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,BOULDER,1,0)

DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,MAGIC,1,0)


REM IMP CONTROL

IF_CONTROLS(PLAYER1,IMP > 19)
		NEXT_COMMAND_REUSABLE
		MAGIC_AVAILABLE(PLAYER1,POWER_IMP,0,0)
	ENDIF
	
	IF(PLAYER1,IMP < 20)
		NEXT_COMMAND_REUSABLE
		MAGIC_AVAILABLE(PLAYER1,POWER_IMP,1,1)
	ENDIF
IF_CONTROLS(PLAYER2,IMP > 19)
		NEXT_COMMAND_REUSABLE
		MAGIC_AVAILABLE(PLAYER2,POWER_IMP,0,0)
	ENDIF
	
	IF(PLAYER2,IMP < 20)
		NEXT_COMMAND_REUSABLE
		MAGIC_AVAILABLE(PLAYER2,POWER_IMP,1,1)
	ENDIF




IF(PLAYER5,ALL_DUNGEONS_DESTROYED == 1)
	WIN_GAME
ENDIF
