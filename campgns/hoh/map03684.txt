LEVEL_VERSION(1)

SET_GENERATE_SPEED(50)


MAX_CREATURES(PLAYER0,6)

START_MONEY(PLAYER0,68746)

ADD_CREATURE_TO_POOL(WIZARD,20)
ADD_CREATURE_TO_POOL(BARBARIAN,20)
ADD_CREATURE_TO_POOL(ARCHER,24)
ADD_CREATURE_TO_POOL(MONK,40)
ADD_CREATURE_TO_POOL(DWARFA,20)
ADD_CREATURE_TO_POOL(KNIGHT,4)
ADD_CREATURE_TO_POOL(AVATAR,4)
ADD_CREATURE_TO_POOL(TUNNELLER,20)
ADD_CREATURE_TO_POOL(WITCH,20)
ADD_CREATURE_TO_POOL(GIANT,60)
ADD_CREATURE_TO_POOL(FAIRY,20)
ADD_CREATURE_TO_POOL(THIEF,20)
ADD_CREATURE_TO_POOL(SAMURAI,40)
ADD_CREATURE_TO_POOL(IMP,20)
ADD_CREATURE_TO_POOL(HORNY,12)
ADD_CREATURE_TO_POOL(SKELETON,40)
ADD_CREATURE_TO_POOL(TROLL,50)
ADD_CREATURE_TO_POOL(DRAGON,50)
ADD_CREATURE_TO_POOL(DEMONSPAWN,20)
ADD_CREATURE_TO_POOL(FLY,60)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,20)
ADD_CREATURE_TO_POOL(SORCEROR,20)
ADD_CREATURE_TO_POOL(BILE_DEMON,60)
ADD_CREATURE_TO_POOL(BUG,60)
ADD_CREATURE_TO_POOL(VAMPIRE,20)
ADD_CREATURE_TO_POOL(SPIDER,60)
ADD_CREATURE_TO_POOL(HELL_HOUND,20)
ADD_CREATURE_TO_POOL(GHOST,20)
ADD_CREATURE_TO_POOL(TENTACLE,60)
ADD_CREATURE_TO_POOL(ORC,60)

CREATURE_AVAILABLE(ALL_PLAYERS,WIZARD,1,0)
CREATURE_AVAILABLE(PLAYER3,BARBARIAN,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ARCHER,1,0)
CREATURE_AVAILABLE(PLAYER3,MONK,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DWARFA,0,0)
CREATURE_AVAILABLE(PLAYER1,KNIGHT,1,0)
CREATURE_AVAILABLE(PLAYER3,AVATAR,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,TUNNELLER,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,WITCH,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,GIANT,1,0)
CREATURE_AVAILABLE(PLAYER3,FAIRY,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,THIEF,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SAMURAI,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,IMP,0,0)
CREATURE_AVAILABLE(PLAYER0,HORNY,1,4)
CREATURE_AVAILABLE(ALL_PLAYERS,SKELETON,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TROLL,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DEMONSPAWN,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,FLY,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,BUG,0,0)
CREATURE_AVAILABLE(PLAYER1,VAMPIRE,1,2)
CREATURE_AVAILABLE(ALL_PLAYERS,SPIDER,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,GHOST,0,0)
CREATURE_AVAILABLE(PLAYER0,TENTACLE,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,0)


ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,0,0)
ROOM_AVAILABLE(PLAYER0,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER1,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER2,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER3,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER0,RESEARCH,0,0)
ROOM_AVAILABLE(PLAYER1,RESEARCH,0,0)
ROOM_AVAILABLE(PLAYER2,RESEARCH,0,0)
ROOM_AVAILABLE(PLAYER3,RESEARCH,0,0)
ROOM_AVAILABLE(PLAYER0,WORKSHOP,0,0)
ROOM_AVAILABLE(PLAYER1,WORKSHOP,0,0)
ROOM_AVAILABLE(PLAYER2,WORKSHOP,0,0)
ROOM_AVAILABLE(PLAYER3,WORKSHOP,0,0)
ROOM_AVAILABLE(PLAYER3,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER3,LAIR,1,1)
ROOM_AVAILABLE(PLAYER2,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER2,LAIR,1,1)
ROOM_AVAILABLE(PLAYER0,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER0,LAIR,1,1)
ROOM_AVAILABLE(PLAYER1,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER1,LAIR,1,1)
ROOM_AVAILABLE(PLAYER0,GRAVEYARD,0,0)
ROOM_AVAILABLE(PLAYER1,GRAVEYARD,1,1)
ROOM_AVAILABLE(PLAYER2,GRAVEYARD,1,1)
ROOM_AVAILABLE(PLAYER3,GRAVEYARD,1,1)
ROOM_AVAILABLE(PLAYER0,PRISON,0,0)
ROOM_AVAILABLE(PLAYER1,PRISON,1,0)
ROOM_AVAILABLE(PLAYER2,PRISON,0,0)
ROOM_AVAILABLE(PLAYER3,PRISON,1,0)
ROOM_AVAILABLE(PLAYER0,TORTURE,0,0)
ROOM_AVAILABLE(PLAYER1,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER2,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER3,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER0,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER1,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER2,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER3,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER1,SCAVENGER,1,1)
ROOM_AVAILABLE(PLAYER2,SCAVENGER,1,1)
ROOM_AVAILABLE(PLAYER3,SCAVENGER,1,1)
ROOM_AVAILABLE(PLAYER1,BARRACKS,1,1)
ROOM_AVAILABLE(PLAYER2,BARRACKS,1,1)
ROOM_AVAILABLE(PLAYER3,BARRACKS,1,1)
ROOM_AVAILABLE(PLAYER1,TEMPLE,0,0)
ROOM_AVAILABLE(PLAYER2,TEMPLE,0,0)
ROOM_AVAILABLE(PLAYER3,TEMPLE,0,0)
ROOM_AVAILABLE(PLAYER0,BRIDGE,0,0)
ROOM_AVAILABLE(PLAYER2,BRIDGE,0,0)
ROOM_AVAILABLE(PLAYER1,BRIDGE,0,0)
ROOM_AVAILABLE(PLAYER3,BRIDGE,0,0)

MAGIC_AVAILABLE(PLAYER0,POWER_POSSESS,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_POSSESS,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER1,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER2,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER3,POWER_IMP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)

MAGIC_AVAILABLE(PLAYER0,POWER_SIGHT,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_CAVE_IN,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_CAVE_IN,0,0)
MAGIC_AVAILABLE(PLAYER0,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HOLD_AUDIENCE,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_CHICKEN,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(PLAYER3,POWER_LIGHTNING,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_DESTROY_WALLS,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_DISEASE,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_ARMAGEDDON,0,0)

DOOR_AVAILABLE(ALL_PLAYERS,WOOD,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,0,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,BOULDER,0,1)
DOOR_AVAILABLE(PLAYER0,MAGIC,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,0,0)
TRAP_AVAILABLE(PLAYER0,WORD_OF_POWER,1,0)


RESEARCH_ORDER(PLAYER0,MAGIC,POWER_SPEED,57000)
RESEARCH_ORDER(PLAYER0,MAGIC,POWER_CALL_TO_ARMS,74000)
RESEARCH_ORDER(PLAYER0,MAGIC,POWER_CONCEAL,94000)
RESEARCH_ORDER(PLAYER0,MAGIC,POWER_HOLD_AUDIENCE,10000)
RESEARCH_ORDER(PLAYER0,MAGIC,POWER_HEAL_CREATURE,390000)
RESEARCH_ORDER(PLAYER0,MAGIC,POWER_LIGHTNING,150000)
RESEARCH_ORDER(PLAYER0,MAGIC,POWER_PROTECT,150000)


CREATE_PARTY(HEAD)
ADD_TO_PARTY(HEAD,AVATAR,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(HEAD,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(HEAD,KNIGHT,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(HEAD,SAMURAI,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(HEAD,DRAGON,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(HEAD,WIZARD,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(HEAD,BARBARIAN,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(EVILS)
ADD_TO_PARTY(EVILS,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(EVILS,VAMPIRE,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(EVILS,BILE_DEMON,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(EVILS,DRAGON,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(EVILS,SORCEROR,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(GOODS)
ADD_TO_PARTY(GOODS,AVATAR,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(GOODS,KNIGHT,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(GOODS,SAMURAI,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(GOODS,WIZARD,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(GOODS,BARBARIAN,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(MIXED)
ADD_TO_PARTY(MIXED,AVATAR,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(MIXED,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(MIXED,KNIGHT,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(MIXED,VAMPIRE,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(MIXED,SAMURAI,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(MIXED,DRAGON,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(MIXED,BILE_DEMON,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(INSECTS)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(INSECTS,BUG,10,0,ATTACK_DUNGEON_HEART,0)

IF(PLAYER0,GAME_TURN >= 10)
QUICK_OBJECTIVE(1,"哈尔开始在你占领的王国后方发动攻击。很明显，你把几乎所有的怪物都换到了那里，但哈尔还有更多的爪牙。他可以同时在两个地方攻击你。更重要的是要守住这座被封印的城堡，即使这意味着要损失你的怪物。在他们已经来袭时，你已经没有太多时间来防守了！对了，关于法术... 哈尔的其中一个动作。你有能力再次使用它们，但这需要时间！",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 1000)
SET_TIMER(PLAYER0,TIMER0)
QUICK_INFORMATION(2,"他们已经来了！",PLAYER0)
ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,ARCHER,-1,10,10,0)
ENDIF

IF(PLAYER0,TIMER0 >= 2000)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,ARCHER,-1,2,10,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER0)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=12)
SET_TIMER(PLAYER0,TIMER1)
ENDIF

IF(PLAYER0,TIMER1 >= 3000)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,BARBARIAN,-2,2,9,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER1)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=10)
QUICK_OBJECTIVE(3,"防守会越来越难，守护者！让我看看你的技术吧！",PLAYER0)
ENDIF

IF(PLAYER0,BATTLES_WON >=30)
SET_TIMER(PLAYER0,TIMER2)
ENDIF


IF(PLAYER0,TIMER2 >= 6400)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,BARBARIAN,-3,1,10,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,WITCH,-2,2,5,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,VAMPIRE,-3,8,4,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER2)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=100)
SET_TIMER(PLAYER0,TIMER3)
ENDIF

IF(PLAYER0,TIMER3 >= 3000)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,TENTACLE,-3,3,10,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SPIDER,-1,1,10,0)
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,TROLL,-2,3,10,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER3)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=200)
SET_TIMER(PLAYER0,TIMER4)
ENDIF

IF(PLAYER0,TIMER4 >= 5000)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,GIANT,-3,3,10,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,GIANT,-2,3,5,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER4)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=300)
SET_TIMER(PLAYER0,TIMER5)
ENDIF

IF(PLAYER0,TIMER5 >= 3000)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,DRAGON,-3,3,10,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,THIEF,-1,6,10,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,DEMONSPAWN,-2,5,4,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER5)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=490)
SET_TIMER(PLAYER0,TIMER6)
ENDIF

IF(PLAYER0,TIMER6 >= 300)
IF(PLAYER0,BATTLES_WON <=500)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SKELETON,-2,9,1,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SKELETON,-3,9,1,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SKELETON,-3,9,1,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,VAMPIRE,PLAYER0,1,3,10000)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER0,TIMER6)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=500)
IF(PLAYER_GOOD,TOTAL_CREATURES == 0)
QUICK_OBJECTIVE(4,"干得好，主人！我希望你在正确的时间做出了正确的决定，因为，他们很快又要来了！",-2)
SET_TIMER(PLAYER_GOOD,TIMER0)
ENDIF
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 3000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,HEAD,-1,1)
QUICK_OBJECTIVE(5,"真正的游戏现在开始！",-1)
SET_TIMER(PLAYER_GOOD,TIMER1)
ENDIF

IF(PLAYER_GOOD,TIMER1 >= 1300)
IF(PLAYER0,BATTLES_WON <=1300)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,WIZARD,-1,2,7,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,HORNY,-1,2,1,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,MONK,-1,6,4,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,VAMPIRE,-3,1,3,10000)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER_GOOD,TIMER1)

ENDIF
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 9000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,EVILS,-2,1)
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 15000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,GOODS,-3,1)
SET_TIMER(PLAYER_GOOD,TIMER2)
ENDIF


IF(PLAYER_GOOD,TIMER2 >= 3300)
IF(PLAYER0,BATTLES_WON <=1300)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,TROLL,-1,2,7,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,ORC,-2,2,8,0)
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,DRAGON,-1,6,4,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,KNIGHT,-3,9,1,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER_GOOD,TIMER2)

ENDIF
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 20000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,MIXED,-1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_IMP,0,0)
KILL_CREATURE(PLAYER0,IMP,LEAST_EXPERIENCED,255)
SET_TIMER(PLAYER_GOOD,TIMER3)
SET_TIMER(PLAYER_GOOD,TIMER4)
SET_TIMER(PLAYER_GOOD,TIMER5)
ENDIF

IF(PLAYER_GOOD,TIMER3 >= 1000)
IF(PLAYER0,BATTLES_WON <=1300)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SPIDER,-1,2,9,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,BILE_DEMON,-2,2,2,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,FAIRY,-1,6,5,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,WITCH,-3,9,5,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER_GOOD,TIMER3)

ENDIF
ENDIF

IF(PLAYER_GOOD,TIMER4 >= 2000)
IF(PLAYER0,BATTLES_WON <=1300)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,MONK,-1,2,9,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,ARCHER,-2,12,2,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,TROLL,-1,6,5,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SORCEROR,-3,9,5,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER_GOOD,TIMER4)

ENDIF
ENDIF

IF(PLAYER_GOOD,TIMER5 >= 3200)
IF(PLAYER0,BATTLES_WON <=1300)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,KNIGHT,-1,1,10,10000)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,SKELETON,-2,12,2,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,DRAGON,-3,6,5,0)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,BARBARIAN,PLAYER0,3,5,0)
	

	NEXT_COMMAND_REUSABLE
	SET_TIMER(PLAYER_GOOD,TIMER5)

ENDIF
ENDIF

IF(PLAYER0,BATTLES_WON >=1300)
IF(PLAYER_GOOD,TOTAL_CREATURES == 0)
SET_TIMER(PLAYER_GOOD,TIMER6)
QUICK_OBJECTIVE(6,"这是最后一搏了！干掉他们！",-3)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,INSECTS,-2,5)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,INSECTS,-1,5)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,INSECTS,-3,5)
ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,AVATAR,-1,1,10,0)
ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,AVATAR,-2,2,10,0)
ADD_CREATURE_TO_LEVEL(PLAYER_GOOD,AVATAR,-3,3,10,0)
ENDIF
ENDIF

IF(PLAYER_GOOD,TIMER6 >= 3000)
IF(PLAYER_GOOD,TOTAL_CREATURES == 0)
QUICK_OBJECTIVE(7,"引人入胜... 太迷人了！你......征服了这片土地！干得好，守护者，接下来，让我们来彻底干掉哈尔吧。",PLAYER0)
WIN_GAME
ENDIF
ENDIF

IF(PLAYER0,TOTAL_CREATURES >= 80)
QUICK_INFORMATION(8,"警告！你的怪物数量不要超过限制！你现在已经有 80 个怪物！",PLAYER0)
ENDIF

IF(PLAYER0,TOTAL_CREATURES >= 82)
QUICK_INFORMATION(9,"哈尔使用了灵魂球魔法，你被打败了！",PLAYER0)
LOSE_GAME
ENDIF