LEVEL_VERSION(1)

SET_GENERATE_SPEED(140)

START_MONEY(PLAYER0,250000)

MAX_CREATURES(PLAYER0,25)


DEAD_CREATURES_RETURN_TO_POOL(0)

ADD_CREATURE_TO_POOL(TROLL,30)
ADD_CREATURE_TO_POOL(SORCEROR,10)
ADD_CREATURE_TO_POOL(BILE_DEMON,5)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,2)
ADD_CREATURE_TO_POOL(DRAGON,3)
ADD_CREATURE_TO_POOL(HELL_HOUND,10)
ADD_CREATURE_TO_POOL(ORC,2)
ADD_CREATURE_TO_POOL(DEMONSPAWN,30)
ADD_CREATURE_TO_POOL(FLY,1)
ADD_CREATURE_TO_POOL(BUG,40)
ADD_CREATURE_TO_POOL(WIZARD,8)

REM Creature availability

CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,VAMPIRE,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,FLY,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BUG,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,WIZARD,1,1)


REM Room availability
ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,PRISON,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,TORTURE,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,SCAVENGER,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,GRAVEYARD,0,0)

REM Spells availability
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_POSSESS,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_IMP,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_OBEY,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_LIGHTNING,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DISEASE,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CAVE_IN,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CHICKEN,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DESTROY_WALLS,1,0)


IF(PLAYER0,GAME_TURN >= 10)
QUICK_INFORMATION(1,"在开始游戏之前，请仔细阅读信息。",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 90)
QUICK_INFORMATION(2,"这个战役讲述的是发生在哈尔的故事。这是一股纯粹的邪恶势力，它拥有强大的力量和无数爪牙。他们宣称说自己是好人，但其实是坏人，非常坏，甚至可以说是魔鬼，因此你必须变得更加邪恶！你的首要任务是打败哈尔和所有其他敌人，他们的目标也是征服和统治这个世界。",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 190)
QUICK_INFORMATION(3,"请尽情享受你将面对的令人兴奋的新世界。战役的地点在虚构的奥拉维纳（奥拉维的城堡，译自芬兰语，意为巨大的！），当你明白时，你就可以开始任务了。",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 460)
QUICK_INFORMATION(4,"本战役及其地图由 UnknownMaster21 制作。YourMaster 和 mefistotelis 协助制作。",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 640)
QUICK_OBJECTIVE(5,"你的任务就是这样，守护者： 击败哈尔在北面的第一道防线，摧毁哈尔的地下城心脏以继续深入。开始制造小鬼和建造房间，并占领离地下城不远的入口。在哈尔的爪牙发现你的踪迹之前尽快行动。",PLAYER0)
	MAGIC_AVAILABLE(PLAYER0,POWER_IMP,1,1)
	MAGIC_AVAILABLE(PLAYER0,POWER_HAND,1,1)
	MAGIC_AVAILABLE(PLAYER0,SLAP,1,1)
	ROOM_AVAILABLE(PLAYER0,TREASURE,1,1)
	ROOM_AVAILABLE(PLAYER0,LAIR,1,1)
	ROOM_AVAILABLE(PLAYER0,GARDEN,1,1)
	ROOM_AVAILABLE(PLAYER0,TRAINING,1,1)
	ROOM_AVAILABLE(PLAYER0,RESEARCH,1,1)

ENDIF

CREATE_PARTY(FIRST_STRIKE)


ADD_TO_PARTY(FIRST_STRIKE,FAIRY,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIRST_STRIKE,ARCHER,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIRST_STRIKE,BARBARIAN,4,3600,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(SECOND_STRIKE)


ADD_TO_PARTY(SECOND_STRIKE,FAIRY,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SECOND_STRIKE,ARCHER,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SECOND_STRIKE,BARBARIAN,4,3600,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(THIRD_STRIKE)


ADD_TO_PARTY(THIRD_STRIKE,FAIRY,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(THIRD_STRIKE,ARCHER,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(THIRD_STRIKE,BARBARIAN,6,3600,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(FOURTH_STRIKE)


ADD_TO_PARTY(FOURTH_STRIKE,ARCHER,7,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FOURTH_STRIKE,ARCHER,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FOURTH_STRIKE,BARBARIAN,6,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FOURTH_STRIKE,ARCHER,7,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FOURTH_STRIKE,ARCHER,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FOURTH_STRIKE,BARBARIAN,6,3600,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(FIFTH_STRIKE)


ADD_TO_PARTY(FIFTH_STRIKE,ARCHER,8,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIFTH_STRIKE,ARCHER,6,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIFTH_STRIKE,WIZARD,7,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIFTH_STRIKE,ARCHER,6,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIFTH_STRIKE,WIZARD,9,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(FIFTH_STRIKE,WIZARD,9,3600,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(SIXTH_STRIKE)


ADD_TO_PARTY(SIXTH_STRIKE,ARCHER,7,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,ARCHER,4,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,WIZARD,6,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,ARCHER,10,3600,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,WIZARD,10,3600,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(LANDLORD)
ADD_TO_PARTY(LANDLORD,KNIGHT,10,2000,ATTACK_ENEMIES,0)
ADD_TO_PARTY(LANDLORD,ARCHER,7,2000,ATTACK_ENEMIES,0)
ADD_TO_PARTY(LANDLORD,ARCHER,7,2000,ATTACK_ENEMIES,0)
ADD_TO_PARTY(LANDLORD,ARCHER,7,2000,ATTACK_ENEMIES,0)
ADD_TO_PARTY(LANDLORD,ARCHER,7,2000,ATTACK_ENEMIES,0)
ADD_TO_PARTY(LANDLORD,WIZARD,7,2000,ATTACK_ENEMIES,0)

IF(PLAYER0,GAME_TURN >= 10000)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,1,DUNGEON_HEART,0,5,8000)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,2,DUNGEON_HEART,0,5,8000)
QUICK_INFORMATION(6,"守护者，哈尔的爪牙已经开始进入你的地下城了。做好准备吧",PLAYER_GOOD)
ENDIF

IF(PLAYER0,GAME_TURN >= 16000)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,SECOND_STRIKE,2,DUNGEON_HEART,0,5,4096)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,1,2)
ENDIF

IF(PLAYER0,GAME_TURN >= 22000)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,THIRD_STRIKE,7,DUNGEON_HEART,0,5,4096)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,1,2)
ENDIF

IF(PLAYER0,GAME_TURN >= 16000)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,FOURTH_STRIKE,3,DUNGEON_HEART,0,5,4096)
ENDIF

IF(PLAYER0,GAME_TURN >= 18600)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,FIFTH_STRIKE,4,DUNGEON_HEART,0,7,4096)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,1,DUNGEON_HEART,0,5,8000)
ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,2,DUNGEON_HEART,0,5,8000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,THIRD_STRIKE,7,2)
QUICK_INFORMATION(7,"守护者，看来他们是认真的要来打败你了！不要让他们摧毁你的地下城心脏！",PLAYER0)
ENDIF

IF_ACTION_POINT(5,PLAYER0)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,LANDLORD,5,1)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,FIRST_STRIKE,1,2)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,THIRD_STRIKE,7,2)
QUICK_OBJECTIVE(8,"守护者，打败这里的国王，并摧毁哈尔的地下城心脏！",PLAYER_GOOD)
ENDIF

IF(PLAYER_GOOD,DUNGEON_DESTROYED == 1)
	IF_CONTROLS(PLAYER_GOOD,TOTAL_CREATURES <= 0)
		QUICK_OBJECTIVE(9,"非常棒！哈尔的爪牙被打败了，布鲁姆塔尔王国是你的了！是时候崛起，改正这些错误了！",ALL_PLAYERS)
		WIN_GAME
	ENDIF
ENDIF

IF_ACTION_POINT(6,PLAYER0)
QUICK_INFORMATION(10,"守卫者，这些魔盒是强大的神器，对你的征战大有帮助！",6)
ENDIF

IF(PLAYER0,VAMPIRE >= 1)
QUICK_INFORMATION(11,"吸血鬼... 吸血鬼也是用来征服的！",PLAYER0)
ADD_CREATURE_TO_POOL(VAMPIRE,7)
CREATURE_AVAILABLE(ALL_PLAYERS,VAMPIRE,1,1)
ENDIF
