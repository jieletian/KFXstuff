LEVEL_VERSION(1)

SET_GENERATE_SPEED(220)

MAX_CREATURES(PLAYER0,32)
MAX_CREATURES(PLAYER2,42)

START_MONEY(PLAYER0,15000)
START_MONEY(PLAYER2,2000000)

COMPUTER_PLAYER(PLAYER2,0)


ADD_CREATURE_TO_POOL(WIZARD,20)
ADD_CREATURE_TO_POOL(BARBARIAN,20)
ADD_CREATURE_TO_POOL(ARCHER,20)
ADD_CREATURE_TO_POOL(MONK,20)
ADD_CREATURE_TO_POOL(DWARFA,20)
ADD_CREATURE_TO_POOL(KNIGHT,20)
ADD_CREATURE_TO_POOL(AVATAR,20)
ADD_CREATURE_TO_POOL(TUNNELLER,20)
ADD_CREATURE_TO_POOL(WITCH,20)
ADD_CREATURE_TO_POOL(GIANT,20)
ADD_CREATURE_TO_POOL(FAIRY,20)
ADD_CREATURE_TO_POOL(THIEF,20)
ADD_CREATURE_TO_POOL(SAMURAI,20)
ADD_CREATURE_TO_POOL(IMP,20)
ADD_CREATURE_TO_POOL(HORNY,20)
ADD_CREATURE_TO_POOL(SKELETON,20)
ADD_CREATURE_TO_POOL(TROLL,20)
ADD_CREATURE_TO_POOL(DRAGON,20)
ADD_CREATURE_TO_POOL(DEMONSPAWN,20)
ADD_CREATURE_TO_POOL(FLY,20)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,20)
ADD_CREATURE_TO_POOL(SORCEROR,20)
ADD_CREATURE_TO_POOL(BILE_DEMON,20)
ADD_CREATURE_TO_POOL(BUG,20)
ADD_CREATURE_TO_POOL(VAMPIRE,20)
ADD_CREATURE_TO_POOL(SPIDER,20)
ADD_CREATURE_TO_POOL(HELL_HOUND,20)
ADD_CREATURE_TO_POOL(GHOST,20)
ADD_CREATURE_TO_POOL(TENTACLE,20)
ADD_CREATURE_TO_POOL(ORC,20)




CREATURE_AVAILABLE(ALL_PLAYERS,WIZARD,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,BARBARIAN,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ARCHER,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,MONK,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DWARFA,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,KNIGHT,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,AVATAR,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TUNNELLER,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,WITCH,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,GIANT,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,FAIRY,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,THIEF,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SAMURAI,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,IMP,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SKELETON,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TROLL,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DEMONSPAWN,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,FLY,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,BUG,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,VAMPIRE,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SPIDER,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,GHOST,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TENTACLE,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,0)

ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,0,0)
ROOM_AVAILABLE(PLAYER0,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER2,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER2,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER0,RESEARCH,0,0)
ROOM_AVAILABLE(PLAYER2,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER0,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER2,LAIR,1,1)
ROOM_AVAILABLE(PLAYER0,LAIR,1,1)
ROOM_AVAILABLE(PLAYER0,WORKSHOP,1,0)
ROOM_AVAILABLE(PLAYER2,WORKSHOP,1,0)
ROOM_AVAILABLE(PLAYER0,GRAVEYARD,0,0)
ROOM_AVAILABLE(PLAYER2,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER0,PRISON,1,0)
ROOM_AVAILABLE(PLAYER2,PRISON,1,0)
ROOM_AVAILABLE(PLAYER0,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER2,TRAINING,1,0)
ROOM_AVAILABLE(PLAYER0,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,SCAVENGER,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,1,0)
ROOM_AVAILABLE(PLAYER0,BRIDGE,1,1)
ROOM_AVAILABLE(PLAYER2,BRIDGE,0,0)
MAGIC_AVAILABLE(PLAYER0,POWER_POSSESS,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_POSSESS,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_IMP,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_SLAP,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_SLAP,1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_CAVE_IN,0,0)
MAGIC_AVAILABLE(PLAYER2,POWER_CAVE_IN,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HOLD_AUDIENCE,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_CHICKEN,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_DESTROY_WALLS,1,0)
MAGIC_AVAILABLE(PLAYER0,POWER_DISEASE,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_DISEASE,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_ARMAGEDDON,0,0)


DOOR_AVAILABLE(ALL_PLAYERS,WOOD,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,0,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,0,0)
TRAP_AVAILABLE(PLAYER1,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LAVA,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,0,0)
TRAP_AVAILABLE(PLAYER0,BOULDER,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,MAGIC,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,WORD_OF_POWER,0,0)

CREATE_PARTY(SIXTH_STRIKE)


ADD_TO_PARTY(SIXTH_STRIKE,TUNNELLER,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,BARBARIAN,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,BARBARIAN,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,BARBARIAN,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,BARBARIAN,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,BARBARIAN,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SIXTH_STRIKE,BARBARIAN,6,20000,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(SEVENTH_STRIKE)


ADD_TO_PARTY(SEVENTH_STRIKE,WIZARD,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SEVENTH_STRIKE,WIZARD,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SEVENTH_STRIKE,WIZARD,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SEVENTH_STRIKE,WIZARD,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SEVENTH_STRIKE,WIZARD,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SEVENTH_STRIKE,WIZARD,6,20000,ATTACK_DUNGEON_HEART,0)
ADD_TO_PARTY(SEVENTH_STRIKE,TUNNELLER,8,20000,ATTACK_DUNGEON_HEART,0)


IF(PLAYER0,GAME_TURN >= 10)
QUICK_OBJECTIVE(1,"守护者，从上一关进入这一关后，你的魔力突然被奇怪的力量夺走了。你的任务是再次获得魔力，但要怎么做呢？还有，你的入口也被封印了！",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 1000)
QUICK_INFORMATION(2,"当然 魔力的源头一定来自哈尔。哈尔把其他人封印在外面，来确保安全，哈尔在这里的感觉不是假的。不知道北边的守护者是反对哈尔，还是怎么样？快去找吧，守护者，打败这个蠢材守护者，万一这家伙身上有些魔力呢？",PLAYER2)
ENDIF

IF_ACTION_POINT(2,PLAYER2)
QUICK_INFORMATION(3,"守护者！你的对手正向你靠近，确保你的安全。",2)
ENDIF

IF_ACTION_POINT(1,PLAYER0)
QUICK_INFORMATION(4,"你似乎不慎偷渡了某个边境。",1)
SET_TIMER(PLAYER0,TIMER0)
ENDIF

IF(PLAYER0,TIMER0 >= 12000)
IF_ACTION_POINT(2,PLAYER0)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,SIXTH_STRIKE,3,1)
QUICK_INFORMATION(5,"守护者…看！",3)
ENDIF
ENDIF

IF(PLAYER0,TIMER0 >= 22000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,SEVENTH_STRIKE,4,1)
QUICK_INFORMATION(6,"守护者... 一定是哈尔发现你的行踪了。快去做好准备！",4)
ENDIF

IF(PLAYER0,TIMER0 >= 42000)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,SEVENTH_STRIKE,4,4)
QUICK_INFORMATION(7,"你有什么办法吗？",4)
ENDIF

IF(PLAYER0,VAMPIRE >= 1)
QUICK_OBJECTIVE(8,"吸血鬼加入了你。虽然他不是建筑师，但他知道如何在这个领域建造一个合适的图书馆。看看你的房间面板并建造它吧！",PLAYER0)
TUTORIAL_FLASH_BUTTON(9,-1)
ROOM_AVAILABLE(PLAYER0,RESEARCH,1,1)
ENDIF

IF(PLAYER0,GAME_TURN >= 17000)
QUICK_INFORMATION(9,"守护者，多亏了上一关的宝石矿脉，你的黄金才得以运送！",PLAYER0)
ADD_GOLD_TO_PLAYER(PLAYER0,175000)
ENDIF

IF(PLAYER2,DUNGEON_DESTROYED == 1)
QUICK_OBJECTIVE(10,"干得好，守护者，你的对手被打败了。关于魔力的说法，是真的！在下一个王国等着瞧吧！你必须保护好自己，因为哈尔肯定会来找你的，守护者！",PLAYER0)
WIN_GAME
ENDIF