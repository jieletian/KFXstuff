LEVEL_VERSION(1)

SET_GENERATE_SPEED(200)

MAX_CREATURES(PLAYER0,30)
MAX_CREATURES(PLAYER1,20)
MAX_CREATURES(PLAYER2,20)

START_MONEY(PLAYER0,350000)
START_MONEY(PLAYER1,10000)
START_MONEY(PLAYER2,10000)

COMPUTER_PLAYER(PLAYER1,0)
COMPUTER_PLAYER(PLAYER2,0)



ALLY_PLAYERS(PLAYER2,PLAYER1,1)
ALLY_PLAYERS(PLAYER_GOOD,PLAYER1,1)
ALLY_PLAYERS(PLAYER_GOOD,PLAYER2,1)
ALLY_PLAYERS(PLAYER3,PLAYER2,1)
ALLY_PLAYERS(PLAYER3,PLAYER1,1)
ALLY_PLAYERS(PLAYER3,PLAYER_GOOD,1)


SET_CREATURE_MAX_LEVEL(PLAYER0,DRAGON,5)
SET_CREATURE_MAX_LEVEL(PLAYER0,SORCEROR,8)
SET_CREATURE_MAX_LEVEL(PLAYER0,VAMPIRE,8)
SET_CREATURE_MAX_LEVEL(PLAYER0,FAIRY,7)
SET_CREATURE_MAX_LEVEL(PLAYER0,WIZARD,10)
SET_CREATURE_MAX_LEVEL(PLAYER0,MONK,7)
SET_CREATURE_MAX_LEVEL(PLAYER0,AVATAR,6)
SET_CREATURE_MAX_LEVEL(PLAYER0,KNIGHT,10)

SET_CREATURE_MAX_LEVEL(PLAYER1,IMP,4)
SET_CREATURE_MAX_LEVEL(PLAYER1,FLY,9)
SET_CREATURE_MAX_LEVEL(PLAYER1,TROLL,5)
SET_CREATURE_MAX_LEVEL(PLAYER1,HELL_HOUND,5)
SET_CREATURE_MAX_LEVEL(PLAYER1,DARK_MISTRESS,8)
SET_CREATURE_MAX_LEVEL(PLAYER1,ORC,6)
SET_CREATURE_MAX_LEVEL(PLAYER1,HORNY,6)
SET_CREATURE_MAX_LEVEL(PLAYER1,ARCHER,7)
SET_CREATURE_MAX_LEVEL(PLAYER1,THIEF,5)
SET_CREATURE_MAX_LEVEL(PLAYER1,GIANT,10)
SET_CREATURE_MAX_LEVEL(PLAYER1,SAMURAI,8)

SET_CREATURE_MAX_LEVEL(PLAYER2,SKELETON,6)
SET_CREATURE_MAX_LEVEL(PLAYER2,ORC,8)
SET_CREATURE_MAX_LEVEL(PLAYER2,VAMPIRE,8)
SET_CREATURE_MAX_LEVEL(PLAYER2,DWARFA,5)
SET_CREATURE_MAX_LEVEL(PLAYER2,BARBARIAN,7)
SET_CREATURE_MAX_LEVEL(PLAYER2,MONK,4)
SET_CREATURE_MAX_LEVEL(PLAYER2,AVATAR,3)
SET_CREATURE_MAX_LEVEL(PLAYER2,FAIRY,9)


ADD_CREATURE_TO_POOL(DRAGON,6)
ADD_CREATURE_TO_POOL(SORCEROR,10)
ADD_CREATURE_TO_POOL(VAMPIRE,6)
ADD_CREATURE_TO_POOL(FAIRY,9)
ADD_CREATURE_TO_POOL(WIZARD,9)
ADD_CREATURE_TO_POOL(MONK,6)
ADD_CREATURE_TO_POOL(AVATAR,10)
ADD_CREATURE_TO_POOL(KNIGHT,10)

ADD_CREATURE_TO_POOL(FLY,5)
ADD_CREATURE_TO_POOL(TROLL,3)
ADD_CREATURE_TO_POOL(HELL_HOUND,5)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,3)
ADD_CREATURE_TO_POOL(ORC,5)
ADD_CREATURE_TO_POOL(HORNY,3)
ADD_CREATURE_TO_POOL(ARCHER,5)
ADD_CREATURE_TO_POOL(THIEF,3)
ADD_CREATURE_TO_POOL(GIANT,15)
ADD_CREATURE_TO_POOL(SAMURAI,3)

ADD_CREATURE_TO_POOL(SKELETON,5)
ADD_CREATURE_TO_POOL(DWARFA,3)
ADD_CREATURE_TO_POOL(BARBARIAN,5)



CREATURE_AVAILABLE(PLAYER0,DRAGON,1,1)
CREATURE_AVAILABLE(PLAYER0,SORCEROR,1,1)
CREATURE_AVAILABLE(PLAYER0,VAMPIRE,1,1)
CREATURE_AVAILABLE(PLAYER2,VAMPIRE,1,1)
CREATURE_AVAILABLE(PLAYER0,FAIRY,1,1)
CREATURE_AVAILABLE(PLAYER2,FAIRY,1,1)
CREATURE_AVAILABLE(PLAYER0,WITCH,1,1)
CREATURE_AVAILABLE(PLAYER0,WIZARD,1,1)
CREATURE_AVAILABLE(PLAYER0,MONK,1,1)
CREATURE_AVAILABLE(PLAYER2,MONK,1,1)
CREATURE_AVAILABLE(PLAYER0,AVATAR,1,1)
CREATURE_AVAILABLE(PLAYER2,AVATAR,1,1)
CREATURE_AVAILABLE(PLAYER0,KNIGHT,1,1)
CREATURE_AVAILABLE(PLAYER1,FLY,0,0)
CREATURE_AVAILABLE(PLAYER1,TROLL,1,1)
CREATURE_AVAILABLE(PLAYER1,HELL_HOUND,1,1)
CREATURE_AVAILABLE(PLAYER1,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(PLAYER1,ORC,1,1)
CREATURE_AVAILABLE(PLAYER2,ORC,1,1)
CREATURE_AVAILABLE(PLAYER1,HORNY,1,1)
CREATURE_AVAILABLE(PLAYER1,ARCHER,1,1)
CREATURE_AVAILABLE(PLAYER1,THIEF,1,1)
CREATURE_AVAILABLE(PLAYER1,GIANT,1,1)
CREATURE_AVAILABLE(PLAYER1,SAMURAI,1,1)
CREATURE_AVAILABLE(PLAYER2,SKELETON,1,1)
CREATURE_AVAILABLE(PLAYER2,DWARFA,1,1)
CREATURE_AVAILABLE(PLAYER2,BARBARIAN,1,1)



ROOM_AVAILABLE(PLAYER1,GUARD_POST,1,0)
ROOM_AVAILABLE(PLAYER2,GUARD_POST,1,0)
ROOM_AVAILABLE(PLAYER0,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER1,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER2,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER3,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER0,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER1,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER2,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER3,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER0,WORKSHOP,1,1)
ROOM_AVAILABLE(PLAYER1,WORKSHOP,1,1)
ROOM_AVAILABLE(PLAYER2,WORKSHOP,1,1)
ROOM_AVAILABLE(PLAYER3,WORKSHOP,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(PLAYER0,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER1,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER2,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER3,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER0,PRISON,1,1)
ROOM_AVAILABLE(PLAYER1,PRISON,1,1)
ROOM_AVAILABLE(PLAYER2,PRISON,1,1)
ROOM_AVAILABLE(PLAYER3,PRISON,1,1)
ROOM_AVAILABLE(PLAYER0,TORTURE,1,1)
ROOM_AVAILABLE(PLAYER1,TORTURE,1,1)
ROOM_AVAILABLE(PLAYER2,TORTURE,1,1)
ROOM_AVAILABLE(PLAYER3,TORTURE,1,1)
ROOM_AVAILABLE(PLAYER0,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER1,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER2,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER3,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,SCAVENGER,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,0,0)
ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,0,0)
ROOM_AVAILABLE(PLAYER0,BRIDGE,1,0)
ROOM_AVAILABLE(PLAYER2,BRIDGE,1,0)
ROOM_AVAILABLE(PLAYER1,BRIDGE,1,0)
ROOM_AVAILABLE(PLAYER3,BRIDGE,0,0)

MAGIC_AVAILABLE(ALL_PLAYERS,POWER_POSSESS,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_OBEY,0,0)
MAGIC_AVAILABLE(PLAYER0,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER1,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER2,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER3,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_SLAP,1,1)
MAGIC_AVAILABLE(PLAYER1,POWER_SLAP,1,1)
MAGIC_AVAILABLE(PLAYER2,POWER_SLAP,1,1)
MAGIC_AVAILABLE(PLAYER3,POWER_SLAP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CALL_TO_ARMS,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CAVE_IN,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HOLD_AUDIENCE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CHICKEN,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_LIGHTNING,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DISEASE,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DESTROY_WALLS,0,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_ARMAGEDDON,0,0)

DOOR_AVAILABLE(ALL_PLAYERS,WOOD,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,0,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,LAVA,0,0)
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,BOULDER,0,0)
DOOR_AVAILABLE(PLAYER0,MAGIC,1,5)
DOOR_AVAILABLE(PLAYER0,MAGIC,1,0)
DOOR_AVAILABLE(PLAYER0,MAGIC,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,0,0)
TRAP_AVAILABLE(ALL_PLAYERS,WORD_OF_POWER,0,0)


CREATE_PARTY(SUPERACTIONPOINT)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,2,0,ATTACK_ENEMIES,0)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,3,0,ATTACK_ENEMIES,0)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,5,0,ATTACK_ENEMIES,0)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,6,0,ATTACK_ENEMIES,0)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,8,0,ATTACK_ENEMIES,0)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,10,0,ATTACK_ENEMIES,0)
ADD_TO_PARTY(SUPERACTIONPOINT,HORNY,10,0,ATTACK_ENEMIES,0)

IF(PLAYER0,GAME_TURN >= 10)
QUICK_OBJECTIVE(1,"看哪，欢迎来到知识的彼岸！首先，忘掉之前的力量。在这个场景中，你已经进入了超时空。规则改变了，哈尔控制着这里，他还有两个未知的守护者盟友。请时刻牢记这一点！",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 2000)
QUICK_OBJECTIVE(2,"你在这里的任务显而易见，那就是击败所有敌人。一旦夺取了后备基地和前哨站，就该进入更远的地方了。哈尔有两个强化功能，包括他自己的：速度和护甲。你很快就会发现自己的能力。按照自己的意愿前进吧。",PLAYER0)
ENDIF

IF(PLAYER0,GAME_TURN >= 2800)
QUICK_INFORMATION(3,"守护者，没有额外的金币...",PLAYER0)
ENDIF

IF_ACTION_POINT(1,PLAYER0)
QUICK_OBJECTIVE(4,"希望你有足够的能力在这种情况下脱险。你终于会相信哈的愤怒了！",PLAYER0)
ADD_PARTY_TO_LEVEL(PLAYER_GOOD,SUPERACTIONPOINT,1,2)
ADD_CREATURE_TO_LEVEL(PLAYER1,HELL_HOUND,PLAYER_GOOD,4,3,0)
ADD_CREATURE_TO_LEVEL(PLAYER1,FLY,PLAYER_GOOD,3,8,0)
ADD_CREATURE_TO_LEVEL(PLAYER2,BARBARIAN,PLAYER_GOOD,4,6,0)
ADD_CREATURE_TO_LEVEL(PLAYER2,VAMPIRE,PLAYER_GOOD,3,7,0)
ENDIF

IF(PLAYER1,DUNGEON_DESTROYED == 1)
IF(PLAYER2,DUNGEON_DESTROYED == 1)
IF(PLAYER_GOOD,DUNGEON_DESTROYED == 1)
IF(PLAYER_GOOD,TOTAL_CREATURES == 0)
QUICK_OBJECTIVE(5,"干得好，守护者。哈尔又低估了你的能力，不过我想... 老实说，你很快就能打败他。一定还有什么... 让我们在下一个王国一探究竟吧。",PLAYER0)
WIN_GAME
ENDIF
ENDIF
ENDIF
ENDIF

IF(PLAYER0,FLY >= 1)
QUICK_INFORMATION(6,"您已经解开了上一王国的神秘提示。你的奖品将是一个治愈法术，可能不仅如此...",PLAYER0)
CREATURE_AVAILABLE(PLAYER1,FLY,1,1)
MAGIC_AVAILABLE(PLAYER0,POWER_HEAL_CREATURE,1,1)
ENDIF