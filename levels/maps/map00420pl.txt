REM ***********************************************************************
REM
REM Script for Drosophilium Level - by Rangex        24.01.2004
REM
REM ***********************************************************************


SET_GENERATE_SPEED(500)
MAX_CREATURES(PLAYER0,23)
START_MONEY(PLAYER0,20000)

ADD_CREATURE_TO_POOL(SORCEROR,15)
ADD_CREATURE_TO_POOL(BILE_DEMON,20)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,15)
ADD_CREATURE_TO_POOL(TROLL,15)
ADD_CREATURE_TO_POOL(ORC,15)
ADD_CREATURE_TO_POOL(DRAGON,20)
ADD_CREATURE_TO_POOL(DEMONSPAWN,15)

CREATURE_AVAILABLE(ALL_PLAYERS,TROLL,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,VAMPIRE,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,1)

ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TORTURE,1,0)

MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)

DOOR_AVAILABLE(ALL_PLAYERS,WOOD,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,1,0)

TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,WORD_OF_POWER,1,0)



CREATE_PARTY(PARTY1)
    ADD_TO_PARTY(PARTY1,FLY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY1,FLY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY1,FLY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY1,FLY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY1,FLY,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY2)
    ADD_TO_PARTY(PARTY2,BUG,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY2,BUG,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY2,BUG,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY2,BUG,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY2,BUG,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY3)
    ADD_TO_PARTY(PARTY3,SPIDER,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY3,SPIDER,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY3,SPIDER,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY3,SPIDER,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY3,SPIDER,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY4)
    ADD_TO_PARTY(PARTY4,TENTACLE,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY4,TENTACLE,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY4,TENTACLE,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY4,TENTACLE,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY4,TENTACLE,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY6)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY6,HORNY,5,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY7)
    ADD_TO_PARTY(PARTY7,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY7,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY7,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY7,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY7,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY7,HORNY,10,0,ATTACK_DUNGEON_HEART,0)


QUICK_OBJECTIVE(1,"W koncu odkryles polozenie legendarnego Sanktuarium Wszystkowidzacego Oka. Przejecie nad nim kontroli pozwoli Ci dostrzegac wszystko, co dzieje sie w podziemnym swiecie; wszak totalna inwigilacja to totalna wladza. Niestety, wyglada na to, ze nie uda Ci sie sforsowac poteznych murow Sanktuarium dopoki nie zgromadzisz wystarczajacej mocy magicznej. Przeszukaj dokladnie okoliczne pieczary - moze w nich kryje sie rozwiazanie.",PLAYER0)


IF(PLAYER0,GAME_TURN >= 750)
QUICK_INFORMATION(2,"Mroczna magia emanujaca z Sanktuarium na polnocy pozbawila Cie niemal wszystkich zaklec. Nie trac jednak nadziei - w tej krainie ukryto wiele mistycznych zwojow, ktorych znalezienie pozwoli Ci odzyskac utracone moce.")
ENDIF

IF(PLAYER0,GAME_TURN >= 5000)
QUICK_INFORMATION(3,"Demoniczna magia Wszystkowidzacego Oka przeniknela zamieszkujace ten obszar liczne insekty. W konsekwencji nabraly one gigantycznych rozmiarow. Postaraj sie odnalezc i zniszczyc jak najwiecej z tych nabrzmialych magia stworzen - wowczas zagarniesz wypelniajaca je energie.")
ENDIF

IF(PLAYER0,GAME_TURN >= 20000)
QUICK_INFORMATION(4,"Zdaje sie, ze pod wplywem diabelskiej magii Sanktuarium jaskiniowe insekty wpadly w furie i atakuja wszystko, co napotkaja na swej drodze. Miej sie na bacznosci, Strazniku - niebawem zaleja Cie fale robactwa!")
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,1,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,2,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,6,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,8,1)
ENDIF

IF(PLAYER0,GAME_TURN >= 20500)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,1,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,2,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY2,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,9,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,10,2)
ENDIF

IF(PLAYER0,GAME_TURN >= 20750)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY2,1,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,7,2)
ENDIF


IF(PLAYER0,GAME_TURN >= 22500)
    ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,1,1)
QUICK_INFORMATION(5,"Caly Twoj loch wrecz tonie w owadzich trupach; Ty jednak zgromadziles juz tyle mocy magicznej, ze mozesz budowac mosty, i niemal tyle, ile potrzeba do zrujnowania murow Sanktuarium. Na polnocnym wschodzie znajduje sie pradawne Serce Lochu, bedace katalizatorem poteznych energii. Zniszcz je, a uwolniona magia z pewnoscia zwabi wiecej insektow - dosc, bys uzyskal pelnie mocy.")
ENDIF

IF(PLAYER_GOOD,DUNGEON_DESTROYED == 1)
    SET_TIMER(PLAYER_GOOD,TIMER0)
    QUICK_INFORMATION(6,"Plan zadzialal, Strazniku. W oddali slychac juz tupot setek owadzich odnozy. Przygotuj sie nalezycie!")
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 500)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,10,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,2,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY2,4,1)
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 1500)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,10,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,2,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY2,4,2)
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 2500)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,10,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,2,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,4,2)
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 3500)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,10,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,2,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,3,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,4,1)
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 5000)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,10,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,1,2)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,7,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY4,4,1)
ENDIF

IF(PLAYER_GOOD,TIMER0 >= 7000)
    MAGIC_AVAILABLE(PLAYER0,POWER_DESTROY_WALLS,1,1)
QUICK_INFORMATION(7,"Gratulacje, Strazniku! Teraz jednym skinieniem malego palca mozesz obracac w proch nawet najpotezniejsze mury. Wykorzystaj ta swiezo nabyta umiejetnosc, aby dostac sie do Sanktuarium; pozostan jednak czujny - w srodku czyha wielkie niebezpieczenstwo...")
    
ENDIF

IF_ACTION_POINT(11,PLAYER0)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY6,12,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY6,13,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY7,14,1)
    QUICK_INFORMATION(8,"Wszystkowidzace Oko nie podda sie tak latwo Twej nikczemnej woli, Strazniku! Najpierw musisz pokonac przyzwane przez nie krwiozercze demony.")
ENDIF

IF(PLAYER_GOOD,HORNY == 0)
    IF(PLAYER_GOOD,SCAVENGER == 0)
QUICK_OBJECTIVE(9,"Nieskazitelne zwyciestwo! Teraz widzisz cale Podziemie jak na dloni i nic nie jest w stanie ujsc Twojej uwadze, nawet wiatry puszczane ukradkiem przez co wiekszych prowincjuszy. Wielki Brat patrzy - niech trwoza sie maluczcy! ",PLAYER0)
        WIN_GAME
    ENDIF
ENDIF

IF(PLAYER0,DUNGEON_DESTROYED == 1)
    LOSE_GAME
ENDIF
