REM ************************************************************************
REM
REM Script for Lactobacillus Level - by Rangex        04.02.2004
REM
REM ************************************************************************

SET_GENERATE_SPEED(500)
MAX_CREATURES(PLAYER0,20)
MAX_CREATURES(PLAYER1,25)
MAX_CREATURES(PLAYER2,25)
MAX_CREATURES(PLAYER3,25)
START_MONEY(PLAYER0,50000)
START_MONEY(PLAYER1,100000)
START_MONEY(PLAYER2,100000)
START_MONEY(PLAYER3,100000)

ADD_CREATURE_TO_POOL(SORCEROR,60)
ADD_CREATURE_TO_POOL(BILE_DEMON,50)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,50)
ADD_CREATURE_TO_POOL(TROLL,55)
ADD_CREATURE_TO_POOL(ORC,55)
ADD_CREATURE_TO_POOL(DRAGON,50)
ADD_CREATURE_TO_POOL(DEMONSPAWN,30)
ADD_CREATURE_TO_POOL(HELL_HOUND,40)
ADD_CREATURE_TO_POOL(SPIDER,20)
ADD_CREATURE_TO_POOL(FLY,20)

CREATURE_AVAILABLE(PLAYER0,TROLL,1,1)
CREATURE_AVAILABLE(PLAYER2,TROLL,1,1)
CREATURE_AVAILABLE(PLAYER1,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,1,1)
CREATURE_AVAILABLE(PLAYER3,BILE_DEMON,1,1)
CREATURE_AVAILABLE(PLAYER3,HELL_HOUND,1,1)
CREATURE_AVAILABLE(PLAYER2,DRAGON,1,1)
CREATURE_AVAILABLE(PLAYER0,ORC,1,1)
CREATURE_AVAILABLE(PLAYER1,ORC,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,FLY,1,1)
CREATURE_AVAILABLE(PLAYER0,SPIDER,1,1)
CREATURE_AVAILABLE(PLAYER0,DEMONSPAWN,1,1)

ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,1,0)
ROOM_AVAILABLE(PLAYER1,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER2,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER3,GRAVEYARD,1,0)
ROOM_AVAILABLE(PLAYER1,PRISON,1,0)
ROOM_AVAILABLE(PLAYER2,PRISON,1,0)
ROOM_AVAILABLE(PLAYER3,PRISON,1,0)
ROOM_AVAILABLE(PLAYER1,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER2,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER3,TORTURE,1,0)
ROOM_AVAILABLE(PLAYER2,SCAVENGER,1,0)
ROOM_AVAILABLE(PLAYER3,SCAVENGER,1,0)

MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_IMP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
MAGIC_AVAILABLE(PLAYER1,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(PLAYER3,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(PLAYER3,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(PLAYER3,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_DISEASE,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_DISEASE,1,0)
MAGIC_AVAILABLE(PLAYER3,POWER_DISEASE,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_CAVE_IN,1,0)
MAGIC_AVAILABLE(PLAYER2,POWER_CAVE_IN,1,0)
MAGIC_AVAILABLE(PLAYER3,POWER_CAVE_IN,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CHICKEN,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HOLD_AUDIENCE,1,0)

DOOR_AVAILABLE(ALL_PLAYERS,WOOD,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)
DOOR_AVAILABLE(PLAYER1,MAGIC,1,0)
DOOR_AVAILABLE(PLAYER2,MAGIC,1,0)
DOOR_AVAILABLE(PLAYER3,MAGIC,1,0)

TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,WORD_OF_POWER,1,0)

COMPUTER_PLAYER(PLAYER1,0)
COMPUTER_PLAYER(PLAYER2,0)
COMPUTER_PLAYER(PLAYER3,0)


CREATE_PARTY(PARTY1)
    ADD_TO_PARTY(PARTY1,HORNY,6,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY1,HORNY,7,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY2)
    ADD_TO_PARTY(PARTY2,HORNY,8,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY2,HORNY,9,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY3)
    ADD_TO_PARTY(PARTY3,HORNY,10,0,ATTACK_DUNGEON_HEART,0)

CREATE_PARTY(PARTY5)
    ADD_TO_PARTY(PARTY5,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY5,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY5,HORNY,10,0,ATTACK_DUNGEON_HEART,0)
    ADD_TO_PARTY(PARTY5,HORNY,10,0,ATTACK_DUNGEON_HEART,0)


QUICK_OBJECTIVE(1,"Ksiaze Bolko Krzywonogi rzadzil niepodzielnie ta kraina do czasu, az sciagnal na siebie uwage czworki piekielnych magnatow, zainteresowanych spladrowaniem jego skarbcow. Niemal caly obszar znalazl sie pod panowaniem sil ciemnosci, jednak Bolko zdolal zabarykadowac sie wraz ze swa elitarna gwardia w poteznej straznicy otoczonej plynna magma. Zniszcz tego pyszalka, a nastepnie swych piekielnych rywali - tylko wowczas uzyskasz jedynowladztwo.",PLAYER0)


IF(PLAYER0,GAME_TURN >= 1500)
QUICK_INFORMATION(2,"W tym krolestwie toczy sie wieczna wojna, a sily sa wyrownane. Wiedz, iz tylko Ty mozesz polozyc jej kres. Najpierw jednak powinienes zapewnic sobie jakies zaplecze finansowe; dobrym pomyslem bedzie spladrowanie krasnoludzkiego skarbca na poludniowym wschodzie. Ale miej sie na bacznosci - nie jestes tak mozny jak Twoi rywale, wiec przylacza sie do Ciebie tylko posledniejsze kreatury. Ta kraine zdolasz podbic nie sila, lecz sprytem.")
ENDIF

IF(PLAYER0,GAME_TURN >= 7500)
QUICK_INFORMATION(3,"Probujac przeniknac nature tego miejsca, wyczules obecnosc wielu niewidzialnych istot. To dawni wrogowie Bolka Krzywonogiego, zamknieci przez ksiecia w eterycznym wiezieniu. Zrodlem magii podtrzymujacej dzialanie wiezacego zaklecia jest Serce Lochu znajdujace sie w straznicy Bolka. Zniszcz je, a uwolnione hordy potepiencow zaleja cale podziemie, roznoszac Twych rywali na strzepy. Pamietaj jedynie, ze na koncu to Ty bedziesz musial zatrzymac ich pochod...")
ENDIF

IF(PLAYER0,GAME_TURN >= 25000)
QUICK_INFORMATION(6,"Zdobycie twierdzy Bolka bez zbudowania Mostu bedzie graniczylo z cudem. Niestety, przebiegly ksiaze powierzyl plany konstrukcji Mostow parze zaufanych Straznikow, przebywajacych w dwoch najbardziej na polnoc wysunietych komnatach podziemia. Do komnat owych dostaniesz sie, przemykajac przez loch nieprzyjaciela noszacego sie na zolto. Musisz pokonac Straznikow i odebrac im plany; oczywiscie nie trzeba dodawac, ze nieocenione bedzie w tej sytuacji zaklecie Niewidzialnosci.")
ENDIF

IF(PLAYER_GOOD,DUNGEON_DESTROYED == 1)
    QUICK_INFORMATION(4,"Uwazaj, Strazniku. Wlasnie rozpetales pieklo. Na wszelki wypadek postaraj sie uniknac usmazenia w diabelskim kotle.")
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY3,1,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY2,2,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY1,3,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,4,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,5,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,6,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,8,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,9,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,10,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,12,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,13,1)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,PARTY5,14,1)
ENDIF

IF(PLAYER_GOOD,GHOST == 0)
QUICK_OBJECTIVE(7,"Polaczywszy dwa fragmenty manuskryptu opisujacego konstrukcje Mostu, uzyskales umiejetnosc niezbedna do zdobycia twierdzy Bolka Krzywonogiego. Teraz mozesz ostatecznie pozbyc sie tego bufona i wydac wyrok smierci na swych uprzykrzonych rywali. Zatem do dziela!",PLAYER0)
    ROOM_AVAILABLE(PLAYER0,BRIDGE,1,1)
ENDIF

IF(PLAYER0,ALL_DUNGEONS_DESTROYED == 1)
    IF(PLAYER_GOOD,HORNY == 0)
        IF(PLAYER_GOOD,AVATAR == 0)
            IF(PLAYER_GOOD,KNIGHT == 0)
                IF(PLAYER_GOOD,MONK == 0)
                    IF(PLAYER_GOOD,WIZARD == 0)
QUICK_OBJECTIVE(5,"Krolestwo Lactobacillusa jest teraz w Twoich (i wylacznie Twoich) rekach! Dokonales czynu niezwyklego - zakonczyles odwieczna wojne, ugasiles ogien czterostronnego konfliktu i na szczycie gory trupow zatknales sztandar demonicznej harmonii. Teraz mozesz do woli dreczyc i wyjalawiac ten parszywy kraj. Czy wspominalem Ci juz, Panie, ze jestes istnym golebiem pokoju?",PLAYER0)
                        WIN_GAME
                    ENDIF
                ENDIF
            ENDIF
        ENDIF
    ENDIF
ENDIF

IF(PLAYER0,DUNGEON_DESTROYED == 1)
    LOSE_GAME
ENDIF
