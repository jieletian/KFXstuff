LEVEL_VERSION(1)
SET_GENERATE_SPEED(400)
START_MONEY(ALL_PLAYERS,15000)
MAX_CREATURES(ALL_PLAYERS,25)

ADD_CREATURE_TO_POOL(TROLL,5)
ADD_CREATURE_TO_POOL(ORC,5)

CREATURE_AVAILABLE(ALL_PLAYERS,TROLL,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,0)

ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,1,1)

MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_POSSESS,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_OBEY,1,1)



SET_CREATURE_PROPERTY(KNIGHT,LORD,0)

SET_GAME_RULE(GemEffectiveness,50)

SET_GAME_RULE(PlaceTrapsOnSubtiles,1)

SET_GAME_RULE(MaxThingsInHand,50)

SET_CREATURE_INSTANCE(IMP, 3, INVISIBILITY,1)

SET_GAME_RULE(ImpWorkExperience,2024)




HIDE_HERO_GATE(-1,1)
HIDE_HERO_GATE(-2,1)
HIDE_HERO_GATE(-3,1)
HIDE_HERO_GATE(-4,1)
HIDE_HERO_GATE(-5,1)

CREATE_PARTY(ERK)
	ADD_TO_PARTY(ERK,THIEF,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK,BARBARIAN,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK,ARCHER,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK,ARCHER,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK,ARCHER,2,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK,ARCHER,2,500,ATTACK_DUNGEON_HEART,0)




CREATE_PARTY(ERK1)
	ADD_TO_PARTY(ERK1,THIEF,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK1,ARCHER,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK1,THIEF,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK1,ARCHER,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK1,DWARFA,1,500,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK1,DWARFA,1,500,ATTACK_DUNGEON_HEART,0)


CREATE_PARTY(ERK2)
	ADD_TO_PARTY(ERK2,THIEF,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,ARCHER,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,BARBARIAN,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,WIZARD,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,FAIRY,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,WIZARD,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,WITCH,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,GIANT,10,300,ATTACK_DUNGEON_HEART,0)
	ADD_TO_PARTY(ERK2,GIANT,10,300,ATTACK_DUNGEON_HEART,0)



REM # Define additional traps and their crates.
NEW_TRAP_TYPE(WIND)
NEW_OBJECT_TYPE(WRKBOX_WIND)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(SENTRY)
NEW_OBJECT_TYPE(WRKBOX_SENTRY)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(FREEZE)
NEW_OBJECT_TYPE(WRKBOX_FREEZE)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(CHICKEN)
NEW_OBJECT_TYPE(WRKBOX_CHICKEN)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(POWER)
NEW_OBJECT_TYPE(WRKBOX_POWER)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(DARKGOD)
NEW_OBJECT_TYPE(WRKBOX_DARKGOD)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(CAVEIN)
NEW_OBJECT_TYPE(WRKBOX_CAVEIN)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,Properties,CHOWNED_ON_ROOM_CLAIM)

REM # Door Configuration.
SET_DOOR_CONFIGURATION(WOOD,PanelTabIndex,0)
SET_DOOR_CONFIGURATION(BRACED,PanelTabIndex,0)
SET_DOOR_CONFIGURATION(STEEL,PanelTabIndex,13)
SET_DOOR_CONFIGURATION(STEEL,ManufactureLevel,0)
SET_DOOR_CONFIGURATION(STEEL,ManufactureRequired,10000)
SET_DOOR_CONFIGURATION(MAGIC,PanelTabIndex,14)
SET_DOOR_CONFIGURATION(MAGIC,ManufactureLevel,4)
SET_DOOR_CONFIGURATION(MAGIC,ManufactureRequired,30000)

REM # Alarm Trap Configuration.
SET_TRAP_CONFIGURATION(ALARM,PanelTabIndex,1)
SET_TRAP_CONFIGURATION(ALARM,ManufactureLevel,0)
SET_TRAP_CONFIGURATION(ALARM,ManufactureRequired,10000)
SET_TRAP_CONFIGURATION(ALARM,Shots,32767)
SET_TRAP_CONFIGURATION(ALARM,TimeBetweenShots,1200)
SET_TRAP_CONFIGURATION(ALARM,SellingValue,500)
SET_TRAP_CONFIGURATION(ALARM,TriggerType,2)
SET_TRAP_CONFIGURATION(ALARM,ActivationType,7)
SET_TRAP_CONFIGURATION(ALARM,EffectType,6)
SET_TRAP_CONFIGURATION(ALARM,Hidden,1)
SET_TRAP_CONFIGURATION(ALARM,Slappable,0)
SET_TRAP_CONFIGURATION(ALARM,Destructible,0)
SET_TRAP_CONFIGURATION(ALARM,Unstable,0)
SET_TRAP_CONFIGURATION(ALARM,TriggerAlarm,1)
SET_TRAP_CONFIGURATION(ALARM,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(ALARM,Health,128)
SET_TRAP_CONFIGURATION(ALARM,ThingSize,128,256)
SET_TRAP_CONFIGURATION(ALARM,HitType,4)

REM # Poison Gas Trap Configuration.
SET_TRAP_CONFIGURATION(POISON_GAS,PanelTabIndex,2)
SET_TRAP_CONFIGURATION(POISON_GAS,ManufactureLevel,0)
SET_TRAP_CONFIGURATION(POISON_GAS,ManufactureRequired,10000)
SET_TRAP_CONFIGURATION(POISON_GAS,Shots,12)
SET_TRAP_CONFIGURATION(POISON_GAS,TimeBetweenShots,40)
SET_TRAP_CONFIGURATION(POISON_GAS,SellingValue,1000)
SET_TRAP_CONFIGURATION(POISON_GAS,TriggerType,3)
SET_TRAP_CONFIGURATION(POISON_GAS,ActivationType,1)
SET_TRAP_CONFIGURATION(POISON_GAS,EffectType,5)
SET_TRAP_CONFIGURATION(POISON_GAS,Hidden,0)
SET_TRAP_CONFIGURATION(POISON_GAS,Slappable,0)
SET_TRAP_CONFIGURATION(POISON_GAS,Destructible,0)
SET_TRAP_CONFIGURATION(POISON_GAS,Unstable,2)
SET_TRAP_CONFIGURATION(POISON_GAS,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(POISON_GAS,Health,1024)
SET_TRAP_CONFIGURATION(POISON_GAS,ThingSize,128,256)
SET_TRAP_CONFIGURATION(POISON_GAS,HitType,4)

REM # Wind Trap Configuration.
SET_TRAP_CONFIGURATION(WIND,NameTextID,987)
SET_TRAP_CONFIGURATION(WIND,TooltipTextID,987)
SET_TRAP_CONFIGURATION(WIND,SymbolSprites,374,432)
SET_TRAP_CONFIGURATION(WIND,PointerSprites,164)
SET_TRAP_CONFIGURATION(WIND,PanelTabIndex,3)
SET_TRAP_CONFIGURATION(WIND,Crate,WRKBOX_WIND)
SET_TRAP_CONFIGURATION(WIND,ManufactureLevel,0)
SET_TRAP_CONFIGURATION(WIND,ManufactureRequired,10000)
SET_TRAP_CONFIGURATION(WIND,Shots,3)
SET_TRAP_CONFIGURATION(WIND,TimeBetweenShots,3000)
SET_TRAP_CONFIGURATION(WIND,SellingValue,1000)
SET_TRAP_CONFIGURATION(WIND,Model,845)
SET_TRAP_CONFIGURATION(WIND,ModelSize,256)
SET_TRAP_CONFIGURATION(WIND,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(WIND,TriggerType,3)
SET_TRAP_CONFIGURATION(WIND,ActivationType,5)
SET_TRAP_CONFIGURATION(WIND,EffectType,8)
SET_TRAP_CONFIGURATION(WIND,Hidden,0)
SET_TRAP_CONFIGURATION(WIND,Slappable,1)
SET_TRAP_CONFIGURATION(WIND,Destructible,0)
SET_TRAP_CONFIGURATION(WIND,Unstable,2)
SET_TRAP_CONFIGURATION(WIND,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(WIND,Health,1024)
SET_TRAP_CONFIGURATION(WIND,ThingSize,128,256)
SET_TRAP_CONFIGURATION(WIND,HitType,4)

REM # Lava Trap Configuration (Spitfire Trap).
SET_TRAP_CONFIGURATION(LAVA,NameTextID,988)
SET_TRAP_CONFIGURATION(LAVA,TooltipTextID,988)
SET_TRAP_CONFIGURATION(LAVA,SymbolSprites,372,430)
SET_TRAP_CONFIGURATION(LAVA,PointerSprites,159)
SET_TRAP_CONFIGURATION(LAVA,PanelTabIndex,4)
SET_TRAP_CONFIGURATION(LAVA,ManufactureLevel,1)
SET_TRAP_CONFIGURATION(LAVA,ManufactureRequired,15000)
SET_TRAP_CONFIGURATION(LAVA,Shots,100)
SET_TRAP_CONFIGURATION(LAVA,TimeBetweenShots,10)
SET_TRAP_CONFIGURATION(LAVA,SellingValue,1000)
SET_TRAP_CONFIGURATION(LAVA,Model,844)
SET_TRAP_CONFIGURATION(LAVA,TriggerType,3)
SET_TRAP_CONFIGURATION(LAVA,ActivationType,5)
SET_TRAP_CONFIGURATION(LAVA,EffectType,7)
SET_TRAP_CONFIGURATION(LAVA,Hidden,0)
SET_TRAP_CONFIGURATION(LAVA,Slappable,0)
SET_TRAP_CONFIGURATION(LAVA,Destructible,0)
SET_TRAP_CONFIGURATION(LAVA,Unstable,2)
SET_TRAP_CONFIGURATION(LAVA,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(LAVA,Health,1024)
SET_TRAP_CONFIGURATION(LAVA,ThingSize,128,256)
SET_TRAP_CONFIGURATION(LAVA,HitType,4)

REM # Boulder Trap Configuration.
SET_TRAP_CONFIGURATION(BOULDER,PanelTabIndex,5)
SET_TRAP_CONFIGURATION(BOULDER,ManufactureLevel,4)
SET_TRAP_CONFIGURATION(BOULDER,ManufactureRequired,30000)
SET_TRAP_CONFIGURATION(BOULDER,Shots,1)
SET_TRAP_CONFIGURATION(BOULDER,TimeBetweenShots,0)
SET_TRAP_CONFIGURATION(BOULDER,SellingValue,2000)
SET_TRAP_CONFIGURATION(BOULDER,TriggerType,3)
SET_TRAP_CONFIGURATION(BOULDER,ActivationType,5)
SET_TRAP_CONFIGURATION(BOULDER,Hidden,0)
SET_TRAP_CONFIGURATION(BOULDER,Slappable,1)
SET_TRAP_CONFIGURATION(BOULDER,Destructible,0)
SET_TRAP_CONFIGURATION(BOULDER,Unstable,0)
SET_TRAP_CONFIGURATION(BOULDER,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(BOULDER,Health,64)

REM # Word Of Power Trap Configuration (Hailstorm Trap).
SET_TRAP_CONFIGURATION(WORD_OF_POWER,NameTextID,244)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,TooltipTextID,244)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,SymbolSprites,384,442)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PointerSprites,161)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PanelTabIndex,6)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ManufactureLevel,2)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ManufactureRequired,20000)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Shots,20)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,TimeBetweenShots,14)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,SellingValue,1000)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Model,845)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,TriggerType,3)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ActivationType,5)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,EffectType,13)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Hidden,0)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Slappable,0)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Destructible,0)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Unstable,2)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Health,1024)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ThingSize,128,256)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,HitType,4)

REM # Freeze Trap Configuration.
SET_TRAP_CONFIGURATION(FREEZE,NameTextID,982)
SET_TRAP_CONFIGURATION(FREEZE,TooltipTextID,982)
SET_TRAP_CONFIGURATION(FREEZE,SymbolSprites,523,406)
SET_TRAP_CONFIGURATION(FREEZE,PointerSprites,160)
SET_TRAP_CONFIGURATION(FREEZE,PanelTabIndex,7)
SET_TRAP_CONFIGURATION(FREEZE,Crate,WRKBOX_FREEZE)
SET_TRAP_CONFIGURATION(FREEZE,ManufactureLevel,2)
SET_TRAP_CONFIGURATION(FREEZE,ManufactureRequired,20000)
SET_TRAP_CONFIGURATION(FREEZE,Shots,5)
SET_TRAP_CONFIGURATION(FREEZE,TimeBetweenShots,200)
SET_TRAP_CONFIGURATION(FREEZE,SellingValue,1000)
SET_TRAP_CONFIGURATION(FREEZE,Model,845)
SET_TRAP_CONFIGURATION(FREEZE,ModelSize,256)
SET_TRAP_CONFIGURATION(FREEZE,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(FREEZE,TriggerType,3)
SET_TRAP_CONFIGURATION(FREEZE,ActivationType,1)
SET_TRAP_CONFIGURATION(FREEZE,EffectType,3)
SET_TRAP_CONFIGURATION(FREEZE,Hidden,0)
SET_TRAP_CONFIGURATION(FREEZE,Slappable,0)
SET_TRAP_CONFIGURATION(FREEZE,Destructible,0)
SET_TRAP_CONFIGURATION(FREEZE,Unstable,2)
SET_TRAP_CONFIGURATION(FREEZE,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(FREEZE,Health,1024)
SET_TRAP_CONFIGURATION(FREEZE,ThingSize,128,256)
SET_TRAP_CONFIGURATION(FREEZE,HitType,4)

REM # Chicken Trap Configuration.
SET_TRAP_CONFIGURATION(CHICKEN,NameTextID,989)
SET_TRAP_CONFIGURATION(CHICKEN,TooltipTextID,989)
SET_TRAP_CONFIGURATION(CHICKEN,SymbolSprites,306,314)
SET_TRAP_CONFIGURATION(CHICKEN,PointerSprites,CHICKEN_CURSOR)
SET_TRAP_CONFIGURATION(CHICKEN,PanelTabIndex,8)
SET_TRAP_CONFIGURATION(CHICKEN,Crate,WRKBOX_CHICKEN)
SET_TRAP_CONFIGURATION(CHICKEN,ManufactureLevel,2)
SET_TRAP_CONFIGURATION(CHICKEN,ManufactureRequired,20000)
SET_TRAP_CONFIGURATION(CHICKEN,Shots,6)
SET_TRAP_CONFIGURATION(CHICKEN,TimeBetweenShots,200)
SET_TRAP_CONFIGURATION(CHICKEN,SellingValue,1000)
SET_TRAP_CONFIGURATION(CHICKEN,Model,845)
SET_TRAP_CONFIGURATION(CHICKEN,ModelSize,256)
SET_TRAP_CONFIGURATION(CHICKEN,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(CHICKEN,TriggerType,3)
SET_TRAP_CONFIGURATION(CHICKEN,ActivationType,1)
SET_TRAP_CONFIGURATION(CHICKEN,EffectType,27)
SET_TRAP_CONFIGURATION(CHICKEN,Hidden,0)
SET_TRAP_CONFIGURATION(CHICKEN,Slappable,0)
SET_TRAP_CONFIGURATION(CHICKEN,Destructible,0)
SET_TRAP_CONFIGURATION(CHICKEN,Unstable,2)
SET_TRAP_CONFIGURATION(CHICKEN,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(CHICKEN,Health,1024)
SET_TRAP_CONFIGURATION(CHICKEN,ThingSize,128,256)
SET_TRAP_CONFIGURATION(CHICKEN,HitType,4)

REM # CaveIn Trap Configuration.
SET_TRAP_CONFIGURATION(CAVEIN,NameTextID,635)
SET_TRAP_CONFIGURATION(CAVEIN,TooltipTextID,652)
SET_TRAP_CONFIGURATION(CAVEIN,SymbolSprites,97,120)
SET_TRAP_CONFIGURATION(CAVEIN,PointerSprites,CAVEIN_CURSOR)
SET_TRAP_CONFIGURATION(CAVEIN,PanelTabIndex,9)
SET_TRAP_CONFIGURATION(CAVEIN,Crate,WRKBOX_CAVEIN)
SET_TRAP_CONFIGURATION(CAVEIN,ManufactureLevel,3)
SET_TRAP_CONFIGURATION(CAVEIN,ManufactureRequired,25000)
SET_TRAP_CONFIGURATION(CAVEIN,Shots,3)
SET_TRAP_CONFIGURATION(CAVEIN,TimeBetweenShots,10)
SET_TRAP_CONFIGURATION(CAVEIN,SellingValue,2000)
SET_TRAP_CONFIGURATION(CAVEIN,Model,844)
SET_TRAP_CONFIGURATION(CAVEIN,ModelSize,256)
SET_TRAP_CONFIGURATION(CAVEIN,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(CAVEIN,TriggerType,2)
SET_TRAP_CONFIGURATION(CAVEIN,ActivationType,7)
SET_TRAP_CONFIGURATION(CAVEIN,EffectType,7)
SET_TRAP_CONFIGURATION(CAVEIN,Hidden,0)
SET_TRAP_CONFIGURATION(CAVEIN,Slappable,0)
SET_TRAP_CONFIGURATION(CAVEIN,Destructible,0)
SET_TRAP_CONFIGURATION(CAVEIN,Unstable,2)
SET_TRAP_CONFIGURATION(CAVEIN,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(CAVEIN,Health,1024)
SET_TRAP_CONFIGURATION(CAVEIN,ThingSize,128,256)
SET_TRAP_CONFIGURATION(CAVEIN,HitType,4)

REM # Sentry Trap Configuration.
SET_TRAP_CONFIGURATION(SENTRY,NameTextID,984)
SET_TRAP_CONFIGURATION(SENTRY,TooltipTextID,984)
SET_TRAP_CONFIGURATION(SENTRY,SymbolSprites,525,404)
SET_TRAP_CONFIGURATION(SENTRY,PointerSprites,162)
SET_TRAP_CONFIGURATION(SENTRY,PanelTabIndex,10)
SET_TRAP_CONFIGURATION(SENTRY,Crate,WRKBOX_SENTRY)
SET_TRAP_CONFIGURATION(SENTRY,ManufactureLevel,1)
SET_TRAP_CONFIGURATION(SENTRY,ManufactureRequired,15000)
SET_TRAP_CONFIGURATION(SENTRY,Shots,25)
SET_TRAP_CONFIGURATION(SENTRY,TimeBetweenShots,20)
SET_TRAP_CONFIGURATION(SENTRY,SellingValue,1000)
SET_TRAP_CONFIGURATION(SENTRY,Model,846)
SET_TRAP_CONFIGURATION(SENTRY,ModelSize,256)
SET_TRAP_CONFIGURATION(SENTRY,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(SENTRY,TriggerType,3)
SET_TRAP_CONFIGURATION(SENTRY,ActivationType,1)
SET_TRAP_CONFIGURATION(SENTRY,EffectType,10)
SET_TRAP_CONFIGURATION(SENTRY,Hidden,0)
SET_TRAP_CONFIGURATION(SENTRY,Slappable,1)
SET_TRAP_CONFIGURATION(SENTRY,Destructible,0)
SET_TRAP_CONFIGURATION(SENTRY,Unstable,2)
SET_TRAP_CONFIGURATION(SENTRY,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(SENTRY,Health,8192)
SET_TRAP_CONFIGURATION(SENTRY,ThingSize,128,256)
SET_TRAP_CONFIGURATION(SENTRY,HitType,4)

REM # Lightning Trap Configuration.
SET_TRAP_CONFIGURATION(LIGHTNING,PanelTabIndex,11)
SET_TRAP_CONFIGURATION(LIGHTNING,ManufactureLevel,3)
SET_TRAP_CONFIGURATION(LIGHTNING,ManufactureRequired,25000)
SET_TRAP_CONFIGURATION(LIGHTNING,Shots,12)
SET_TRAP_CONFIGURATION(LIGHTNING,TimeBetweenShots,30)
SET_TRAP_CONFIGURATION(LIGHTNING,SellingValue,1000)
SET_TRAP_CONFIGURATION(LIGHTNING,TriggerType,3)
SET_TRAP_CONFIGURATION(LIGHTNING,ActivationType,5)
SET_TRAP_CONFIGURATION(LIGHTNING,EffectType,4)
SET_TRAP_CONFIGURATION(LIGHTNING,Hidden,0)
SET_TRAP_CONFIGURATION(LIGHTNING,Slappable,0)
SET_TRAP_CONFIGURATION(LIGHTNING,Destructible,0)
SET_TRAP_CONFIGURATION(LIGHTNING,Unstable,2)
SET_TRAP_CONFIGURATION(LIGHTNING,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(LIGHTNING,Health,1024)
SET_TRAP_CONFIGURATION(LIGHTNING,ThingSize,128,256)
SET_TRAP_CONFIGURATION(LIGHTNING,HitType,4)

REM # Power Trap Configuration.
SET_TRAP_CONFIGURATION(POWER,NameTextID,991)
SET_TRAP_CONFIGURATION(POWER,TooltipTextID,991)
SET_TRAP_CONFIGURATION(POWER,SymbolSprites,519,513)
SET_TRAP_CONFIGURATION(POWER,PointerSprites,176)
SET_TRAP_CONFIGURATION(POWER,PanelTabIndex,12)
SET_TRAP_CONFIGURATION(POWER,Crate,WRKBOX_POWER)
SET_TRAP_CONFIGURATION(POWER,ManufactureLevel,3)
SET_TRAP_CONFIGURATION(POWER,ManufactureRequired,25000)
SET_TRAP_CONFIGURATION(POWER,Shots,60)
SET_TRAP_CONFIGURATION(POWER,TimeBetweenShots,5)
SET_TRAP_CONFIGURATION(POWER,SellingValue,1000)
SET_TRAP_CONFIGURATION(POWER,Model,844)
SET_TRAP_CONFIGURATION(POWER,ModelSize,256)
SET_TRAP_CONFIGURATION(POWER,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(POWER,TriggerType,3)
SET_TRAP_CONFIGURATION(POWER,ActivationType,5)
SET_TRAP_CONFIGURATION(POWER,EffectType,12)
SET_TRAP_CONFIGURATION(POWER,Hidden,0)
SET_TRAP_CONFIGURATION(POWER,Slappable,0)
SET_TRAP_CONFIGURATION(POWER,Destructible,0)
SET_TRAP_CONFIGURATION(POWER,Unstable,2)
SET_TRAP_CONFIGURATION(POWER,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(POWER,Health,1024)
SET_TRAP_CONFIGURATION(POWER,ThingSize,128,256)
SET_TRAP_CONFIGURATION(POWER,HitType,4)

REM # TNT Trap Configuration (Spawn Trap).
SET_TRAP_CONFIGURATION(TNT,NameTextID,986)
SET_TRAP_CONFIGURATION(TNT,TooltipTextID,986)
SET_TRAP_CONFIGURATION(TNT,SymbolSprites,543,545)
SET_TRAP_CONFIGURATION(TNT,PointerSprites,165)
SET_TRAP_CONFIGURATION(TNT,PanelTabIndex,15)
SET_TRAP_CONFIGURATION(TNT,ManufactureLevel,4)
SET_TRAP_CONFIGURATION(TNT,Shots,1)
SET_TRAP_CONFIGURATION(TNT,TimeBetweenShots,0)
SET_TRAP_CONFIGURATION(TNT,SellingValue,2000)
SET_TRAP_CONFIGURATION(TNT,Model,776)
SET_TRAP_CONFIGURATION(TNT,ModelSize,64)
SET_TRAP_CONFIGURATION(TNT,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(TNT,TriggerType,2)
SET_TRAP_CONFIGURATION(TNT,ActivationType,6)
SET_TRAP_CONFIGURATION(TNT,EffectType,8)
SET_TRAP_CONFIGURATION(TNT,Hidden,0)
SET_TRAP_CONFIGURATION(TNT,Slappable,1)
SET_TRAP_CONFIGURATION(TNT,Destructible,0)
SET_TRAP_CONFIGURATION(TNT,Unstable,0)
SET_TRAP_CONFIGURATION(TNT,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(TNT,Health,128)
SET_TRAP_CONFIGURATION(TNT,ThingSize,128,256)
SET_TRAP_CONFIGURATION(TNT,HitType,4)



REM # Dynamic EffectType for Sentry Trap & Spawn Trap.
REM # EffectType will change every 20 GT (one second) using PLAYER_GOOD,TIMER7, can be changed.
REM # If you don't use one or the other remove the line related to it and don't forget the NEXT_COMMAND_REUSABLE too.
REM # It's also possible to add more possible outcome and split them so they have different timer assigned but it's up to you to make the script for it. ;)
SET_TIMER(PLAYER_GOOD,TIMER7)
IF(PLAYER_GOOD,TIMER7 >= 20)
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 0)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,8)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,3)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,2)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 3)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,5)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 4)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,11)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 5)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,10)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,6)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 7)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,4)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 8)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,10)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,13)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,12)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 10)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,32)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 11)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,9)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 12)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(TNT,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,0)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
ENDIF











REM # Keeper's Doors and Trap Availablity.
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)

TRAP_AVAILABLE(PLAYER0,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LAVA,1,0)
TRAP_AVAILABLE(PLAYER0,WORD_OF_POWER,1,0)
TRAP_AVAILABLE(PLAYER0,TNT,1,0)

IF(PLAYER1,TIMER1 >= 10000)
	TRAP_AVAILABLE(PLAYER0,SENTRY,1,0)
	TRAP_AVAILABLE(PLAYER0,FREEZE,1,0)
ENDIF

IF(PLAYER1,TIMER1 >= 20100)
	TRAP_AVAILABLE(PLAYER0,CHICKEN,1,0)
	TRAP_AVAILABLE(PLAYER0,POWER,1,0)
	TRAP_AVAILABLE(PLAYER0,LIGHTNING,1,0)
	QUICK_INFORMATION(10," 你现在可以利用能量陷阱和闪电陷阱，它们的有效性已被证明是十分高效的。",ALL_PLAYERS)
ENDIF

IF(PLAYER1,TIMER1 >= 46000)
	TRAP_AVAILABLE(ALL_PLAYERS,BOULDER,1,0)
	DOOR_AVAILABLE(ALL_PLAYERS,MAGIC,1,0)
	QUICK_INFORMATION(15," 你现在可以使用魔法门和圆石陷阱。这些选项为您的防御提供了额外的战略机会。",ALL_PLAYERS)
ENDIF


IF(PLAYER1,TIMER1 >= 50000)
	TRAP_AVAILABLE(PLAYER0,CAVEIN,1,0)
	TRAP_AVAILABLE(PLAYER0,WIND,1,0)
ENDIF




















SET_TIMER(PLAYER_GOOD,TIMER1)
SET_TIMER(PLAYER1,TIMER1)
SET_TIMER(PLAYER3,TIMER1)

QUICK_OBJECTIVE(0,"你必须确保自己能够生存下来，坚持到最后一波英雄进攻，否则将面临悲惨的死亡。",ALL_PLAYERS)

IF(PLAYER1,TIMER1 >= 2000)
	SET_TIMER(PLAYER_GOOD,TIMER2)
ENDIF

IF(PLAYER1,TIMER1 >= 4000)
	SET_TIMER(PLAYER_GOOD,TIMER3)
ENDIF

IF(PLAYER1,TIMER1 >= 6000)
	SET_TIMER(PLAYER_GOOD,TIMER4)
ENDIF





SET_FLAG(PLAYER1,FLAG1,0)

IF(PLAYER_GOOD,TIMER1 >= 8000)
    IF(PLAYER1,FLAG1 == 0)
	NEXT_COMMAND_REUSABLE
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK,-1,1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG1,1)
    ENDIF
ENDIF

IF(PLAYER1,FLAG1 == 1)

        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG1,0)
        NEXT_COMMAND_REUSABLE
        SET_TIMER(PLAYER_GOOD,TIMER1)
ENDIF




SET_FLAG(PLAYER1,FLAG2,0)

IF(PLAYER_GOOD,TIMER2 >= 8000)
    IF(PLAYER1,FLAG2 == 0)
	NEXT_COMMAND_REUSABLE
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK,-3,1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG2,1)
    ENDIF
ENDIF

IF(PLAYER1,FLAG2 == 1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG2,0)
        NEXT_COMMAND_REUSABLE
        SET_TIMER(PLAYER_GOOD,TIMER2)
ENDIF






SET_FLAG(PLAYER1,FLAG3,0)

IF(PLAYER_GOOD,TIMER3 >= 8000)
    IF(PLAYER1,FLAG3 == 0)
	NEXT_COMMAND_REUSABLE
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK,-1,1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG3,1)
    ENDIF
ENDIF

IF(PLAYER1,FLAG3 == 1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG3,0)
        NEXT_COMMAND_REUSABLE
        SET_TIMER(PLAYER_GOOD,TIMER3)
ENDIF






SET_FLAG(PLAYER1,FLAG4,0)

IF(PLAYER_GOOD,TIMER4 >= 8000)
    IF(PLAYER1,FLAG4 == 0)
	NEXT_COMMAND_REUSABLE
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK,-3,1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG4,1)
    ENDIF
ENDIF

IF(PLAYER1,FLAG4 == 1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER1,FLAG4,0)
        NEXT_COMMAND_REUSABLE
        SET_TIMER(PLAYER_GOOD,TIMER4)
ENDIF









IF(PLAYER1,TIMER1 >= 4500)
	ADD_TUNNELLER_PARTY_TO_LEVEL(PLAYER_GOOD,ERK1,-2,DUNGEON,1,2,50)
	QUICK_INFORMATION(1,"最初的敌人正在途中。请记住，你的毒气陷阱就像微型巨魔一样。",All_PLAYERS)
ENDIF

IF(PLAYER1,TIMER1 >= 6500)
	ADD_TO_PARTY(ERK,SAMURAI,172,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,SAMURAI,172,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, ARCHER, 1)
	DELETE_FROM_PARTY(ERK, ARCHER, 1)
	DELETE_FROM_PARTY(ERK, ARCHER, 2)

ENDIF

IF(PLAYER1,TIMER1 >= 8500)
	ADD_TO_PARTY(ERK,TUNNELLER,173,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,TUNNELLER,173,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,TUNNELLER,173,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, THIEF, 1)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 1)
	DELETE_FROM_PARTY(ERK, ARCHER, 2)
	DELETE_FROM_PARTY(ERK, THIEF, 1)
ENDIF

IF(PLAYER1,TIMER1 >= 10500)
	ADD_TO_PARTY(ERK,ARCHER,174,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,ARCHER,174,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,174,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, SAMURAI, 2)
	DELETE_FROM_PARTY(ERK, SAMURAI, 2)
ENDIF

IF(PLAYER1,TIMER1 >= 12500)
	ADD_TO_PARTY(ERK,MONK,174,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,174,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 3)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 3)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 3)
ENDIF

IF(PLAYER1,TIMER1 >= 14500)
	ADD_TO_PARTY(ERK,THIEF,175,1500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,175,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, ARCHER, 4)
	DELETE_FROM_PARTY(ERK, ARCHER, 4)
	DELETE_FROM_PARTY(ERK, THIEF, 4)
ENDIF

IF(PLAYER1,TIMER1 >= 16500)
	ADD_TO_PARTY(ERK,GIANT,175,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,GIANT,175,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, MONK, 4)
	DELETE_FROM_PARTY(ERK, MONK, 4)
ENDIF

IF(PLAYER1,TIMER1 >= 18500)
	ADD_TO_PARTY(ERK,BARBARIAN,176,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,BARBARIAN,176,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, THIEF, 5)
	DELETE_FROM_PARTY(ERK, THIEF, 5)
ENDIF


IF(PLAYER1,TIMER1 >= 20000)
	ADD_TO_PARTY(ERK,DWARFA,176,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,DWARFA,176,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, GIANT, 5)
	DELETE_FROM_PARTY(ERK, GIANT, 5)
ENDIF

IF(PLAYER1,TIMER1 >= 22500)
	ADD_TO_PARTY(ERK,WITCH,176,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WITCH,176,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 6)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 6)
ENDIF

IF(PLAYER1,TIMER1 >= 25000)
	ADD_TO_PARTY(ERK,ARCHER,176,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,ARCHER,176,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, DWARFA, 6)
	DELETE_FROM_PARTY(ERK, DWARFA, 6)
ENDIF

IF(PLAYER1,TIMER1 >= 27500)
	ADD_TO_PARTY(ERK,GIANT,176,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,GIANT,176,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,GIANT,176,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,GIANT,176,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, WITCH, 6)
	DELETE_FROM_PARTY(ERK, WITCH, 6)
ENDIF

IF(PLAYER1,TIMER1 >= 30000)
	ADD_TO_PARTY(ERK,MONK,177,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,177,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,177,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,177,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, ARCHER, 6)
	DELETE_FROM_PARTY(ERK, ARCHER, 6)
ENDIF

IF(PLAYER1,TIMER1 >= 32500)
	ADD_TO_PARTY(ERK,WIZARD,177,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WIZARD,177,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WIZARD,177,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WIZARD,177,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, GIANT, 6)
	DELETE_FROM_PARTY(ERK, GIANT, 6)
	DELETE_FROM_PARTY(ERK, GIANT, 6)
	DELETE_FROM_PARTY(ERK, GIANT, 6)
ENDIF


IF(PLAYER1,TIMER1 >= 35000)
	ADD_TO_PARTY(ERK,BARBARIAN,178,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,BARBARIAN,178,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,BARBARIAN,178,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,BARBARIAN,178,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, MONK, 7)
	DELETE_FROM_PARTY(ERK, MONK, 7)
	DELETE_FROM_PARTY(ERK, MONK, 7)
	DELETE_FROM_PARTY(ERK, MONK, 7)
ENDIF


IF(PLAYER1,TIMER1 >= 37500)
	ADD_TO_PARTY(ERK,TUNNELLER,178,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,TUNNELLER,178,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,TUNNELLER,178,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,TUNNELLER,178,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, WIZARD, 7)
	DELETE_FROM_PARTY(ERK, WIZARD, 7)
	DELETE_FROM_PARTY(ERK, WIZARD, 7)
	DELETE_FROM_PARTY(ERK, WIZARD, 7)
ENDIF


IF(PLAYER1,TIMER1 >= 40000)
	ADD_TO_PARTY(ERK,THIEF,179,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,179,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,179,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,179,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 8)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 8)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 8)
	DELETE_FROM_PARTY(ERK, BARBARIAN, 8)
ENDIF


IF(PLAYER1,TIMER1 >= 42500)
	ADD_TO_PARTY(ERK,FAIRY,179,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,FAIRY,179,500,ATTACK_DUNGEON_HEART,171000)
	ADD_TO_PARTY(ERK,FAIRY,179,500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,FAIRY,179,500,ATTACK_DUNGEON_HEART,171000)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 8)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 8)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 8)
	DELETE_FROM_PARTY(ERK, TUNNELLER, 8)
ENDIF

IF(PLAYER1,TIMER1 >= 45000)
	ADD_TO_PARTY(ERK,MONK,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,1710,500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, THIEF, 9)
	DELETE_FROM_PARTY(ERK, THIEF, 9)
	DELETE_FROM_PARTY(ERK, THIEF, 9)
	DELETE_FROM_PARTY(ERK, THIEF, 9)
ENDIF

IF(PLAYER1,TIMER1 >= 46900)
	ADD_TO_PARTY(ERK,KNIGHT,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,GIANT,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,BARBARIAN,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,ARCHER,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,SAMURAI,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,FAIRY,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WITCH,1710,17500,ATTACK_DUNGEON_HEART,17100)



	DELETE_FROM_PARTY(ERK, MONK, 10)
	DELETE_FROM_PARTY(ERK, MONK, 10)
	DELETE_FROM_PARTY(ERK, FAIRY, 9)
	DELETE_FROM_PARTY(ERK, FAIRY, 9)
	DELETE_FROM_PARTY(ERK, FAIRY, 9)
	DELETE_FROM_PARTY(ERK, FAIRY, 9)

ENDIF






IF(PLAYER1,TIMER1 >= 54900)

	ADD_TO_PARTY(ERK,GIANT,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,BARBARIAN,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,MONK,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,SAMURAI,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,THIEF,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,ARCHER,1710,17500,ATTACK_DUNGEON_HEART,17100)

	QUICK_INFORMATION(2," 英雄们正在不断团结起来，不断动员起来。他们的数量正在增加。",ALL_PLAYERS)
ENDIF





IF(PLAYER1,TIMER1 >= 64500)

	ADD_TO_PARTY(ERK,DWARFA,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,TUNNELLER,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WITCH,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,FAIRY,1710,17500,ATTACK_DUNGEON_HEART,17100)
	ADD_TO_PARTY(ERK,WIZARD,1710,17500,ATTACK_DUNGEON_HEART,17100)
	DELETE_FROM_PARTY(ERK, KNIGHT, 10)


	QUICK_INFORMATION(11," 英雄们越来越团结，越来越活跃，他们的人数也越来越多。",ALL_PLAYERS)

ENDIF



IF(PLAYER3,TIMER1 >= 4000)



	CHANGE_SLAB_TYPE(43,52,DIRT)
	CHANGE_SLAB_TYPE(43,53,DIRT)
	CHANGE_SLAB_TYPE(43,54,DIRT)
	CHANGE_SLAB_TYPE(43,55,DIRT)
	CHANGE_SLAB_TYPE(43,56,DIRT)
	CHANGE_SLAB_TYPE(43,57,DIRT)
	CHANGE_SLAB_TYPE(43,58,DIRT)
	CHANGE_SLAB_TYPE(43,59,DIRT)
	CHANGE_SLAB_TYPE(43,60,DIRT)
	CHANGE_SLAB_TYPE(43,61,DIRT)
	CHANGE_SLAB_TYPE(43,62,DIRT)
	CHANGE_SLAB_TYPE(43,63,DIRT)

	CHANGE_SLAB_TYPE(41,52,DIRT)
	CHANGE_SLAB_TYPE(41,53,DIRT)
	CHANGE_SLAB_TYPE(41,54,DIRT)
	CHANGE_SLAB_TYPE(41,55,DIRT)
	CHANGE_SLAB_TYPE(41,56,DIRT)
	CHANGE_SLAB_TYPE(41,57,DIRT)
	CHANGE_SLAB_TYPE(41,58,DIRT)
	CHANGE_SLAB_TYPE(41,59,DIRT)
	CHANGE_SLAB_TYPE(41,60,DIRT)
	CHANGE_SLAB_TYPE(41,61,DIRT)
	CHANGE_SLAB_TYPE(41,62,DIRT)
	CHANGE_SLAB_TYPE(41,63,DIRT)

	QUICK_INFORMATION(3,"某些石头具有可塑性，适合挖掘。在使用工坊或设置陷阱之间做出明智的决定。",All_PLAYERS)

ENDIF




SET_TIMER(PLAYER0,TIMER2)

SET_FLAG(PLAYER_GOOD,FLAG4,1)

IF(PLAYER0,TIMER2 >= 100)
	IF(PLAYER_GOOD,FLAG4 == 1)
   		IF(PLAYER0,IMP <= 4)
        		NEXT_COMMAND_REUSABLE
			ADD_CREATURE_TO_LEVEL(PLAYER0,IMP,PLAYER0,1,4,100)
        		NEXT_COMMAND_REUSABLE
        		SET_TIMER(PLAYER0,TIMER2)
		ENDIF
	ENDIF
ENDIF 

IF(PLAYER3,TIMER1 >= 45000)
	SET_FLAG(PLAYER_GOOD,FLAG4,2)
ENDIF

IF(PLAYER0,TIMER2 >= 100)
	IF(PLAYER_GOOD,FLAG4 == 2)
   		IF(PLAYER0,IMP <= 7)
        		NEXT_COMMAND_REUSABLE
			ADD_CREATURE_TO_LEVEL(PLAYER0,IMP,PLAYER0,1,4,100)
        		NEXT_COMMAND_REUSABLE
        		SET_TIMER(PLAYER0,TIMER2)
		ENDIF
	ENDIF
ENDIF 



















IF(PLAYER3,TIMER1 >= 10000)


	ADD_GOLD_TO_PLAYER(PLAYER0,10000)

	QUICK_INFORMATION(4,"国王承认你强大的战斗力，并授予你金币作为奖励。",All_PLAYERS)

ENDIF




IF(PLAYER3,TIMER1 >= 20000)


	ADD_GOLD_TO_PLAYER(PLAYER0,15000)

	QUICK_INFORMATION(21,"你卓越的战斗实力为您赢得了领主的金币。",All_PLAYERS)

ENDIF


IF(PLAYER3,TIMER1 >= 30000)


	ADD_GOLD_TO_PLAYER(PLAYER0,20000)

	QUICK_INFORMATION(22,"国王会因您出色的战斗技能而奖励您金币。",All_PLAYERS)

ENDIF

IF(PLAYER3,TIMER1 >= 40000)


	ADD_GOLD_TO_PLAYER(PLAYER0,20000)


ENDIF


IF(PLAYER3,TIMER1 >= 50000)


	ADD_GOLD_TO_PLAYER(PLAYER0,20000)


ENDIF


IF(PLAYER3,TIMER1 >= 15000)



	CHANGE_SLAB_TYPE(44,52,DIRT)
	CHANGE_SLAB_TYPE(44,53,DIRT)
	CHANGE_SLAB_TYPE(44,54,DIRT)
	CHANGE_SLAB_TYPE(44,55,DIRT)
	CHANGE_SLAB_TYPE(44,56,DIRT)
	CHANGE_SLAB_TYPE(44,57,DIRT)
	CHANGE_SLAB_TYPE(44,58,DIRT)
	CHANGE_SLAB_TYPE(44,59,DIRT)
	CHANGE_SLAB_TYPE(44,60,DIRT)
	CHANGE_SLAB_TYPE(44,61,DIRT)
	CHANGE_SLAB_TYPE(44,62,DIRT)
	CHANGE_SLAB_TYPE(44,63,DIRT)

	CHANGE_SLAB_TYPE(40,52,DIRT)
	CHANGE_SLAB_TYPE(40,53,DIRT)
	CHANGE_SLAB_TYPE(40,54,DIRT)
	CHANGE_SLAB_TYPE(40,55,DIRT)
	CHANGE_SLAB_TYPE(40,56,DIRT)
	CHANGE_SLAB_TYPE(40,57,DIRT)
	CHANGE_SLAB_TYPE(40,58,DIRT)
	CHANGE_SLAB_TYPE(40,59,DIRT)
	CHANGE_SLAB_TYPE(40,60,DIRT)
	CHANGE_SLAB_TYPE(40,61,DIRT)
	CHANGE_SLAB_TYPE(40,62,DIRT)
	CHANGE_SLAB_TYPE(40,63,DIRT)

	QUICK_INFORMATION(5,"有些石头会变软，变得容易挖掘。",All_PLAYERS)

ENDIF


IF(PLAYER3,TIMER1 >= 25000)


	CHANGE_SLAB_TYPE(45,52,DIRT)
	CHANGE_SLAB_TYPE(45,53,DIRT)
	CHANGE_SLAB_TYPE(45,54,DIRT)
	CHANGE_SLAB_TYPE(45,55,DIRT)
	CHANGE_SLAB_TYPE(45,56,DIRT)
	CHANGE_SLAB_TYPE(45,57,DIRT)
	CHANGE_SLAB_TYPE(45,58,DIRT)
	CHANGE_SLAB_TYPE(45,59,DIRT)
	CHANGE_SLAB_TYPE(45,60,DIRT)
	CHANGE_SLAB_TYPE(45,61,DIRT)
	CHANGE_SLAB_TYPE(45,62,DIRT)
	CHANGE_SLAB_TYPE(45,63,DIRT)

	CHANGE_SLAB_TYPE(39,52,DIRT)
	CHANGE_SLAB_TYPE(39,53,DIRT)
	CHANGE_SLAB_TYPE(39,54,DIRT)
	CHANGE_SLAB_TYPE(39,55,DIRT)
	CHANGE_SLAB_TYPE(39,56,DIRT)
	CHANGE_SLAB_TYPE(39,57,DIRT)
	CHANGE_SLAB_TYPE(39,58,DIRT)
	CHANGE_SLAB_TYPE(39,59,DIRT)
	CHANGE_SLAB_TYPE(39,60,DIRT)
	CHANGE_SLAB_TYPE(39,61,DIRT)
	CHANGE_SLAB_TYPE(39,62,DIRT)
	CHANGE_SLAB_TYPE(39,63,DIRT)

	QUICK_INFORMATION(23,"某些类型的石头具有延展性，适合挖掘。",All_PLAYERS)

ENDIF


IF(PLAYER3,TIMER1 >= 35000)


	CHANGE_SLAB_TYPE(46,52,DIRT)
	CHANGE_SLAB_TYPE(46,53,DIRT)
	CHANGE_SLAB_TYPE(46,54,DIRT)
	CHANGE_SLAB_TYPE(46,55,DIRT)
	CHANGE_SLAB_TYPE(46,56,DIRT)
	CHANGE_SLAB_TYPE(46,57,DIRT)
	CHANGE_SLAB_TYPE(46,58,DIRT)
	CHANGE_SLAB_TYPE(46,59,DIRT)
	CHANGE_SLAB_TYPE(46,60,DIRT)
	CHANGE_SLAB_TYPE(46,61,DIRT)
	CHANGE_SLAB_TYPE(46,62,DIRT)
	CHANGE_SLAB_TYPE(46,63,DIRT)

	CHANGE_SLAB_TYPE(38,52,DIRT)
	CHANGE_SLAB_TYPE(38,53,DIRT)
	CHANGE_SLAB_TYPE(38,54,DIRT)
	CHANGE_SLAB_TYPE(38,55,DIRT)
	CHANGE_SLAB_TYPE(38,56,DIRT)
	CHANGE_SLAB_TYPE(38,57,DIRT)
	CHANGE_SLAB_TYPE(38,58,DIRT)
	CHANGE_SLAB_TYPE(38,59,DIRT)
	CHANGE_SLAB_TYPE(38,60,DIRT)
	CHANGE_SLAB_TYPE(38,61,DIRT)
	CHANGE_SLAB_TYPE(38,62,DIRT)
	CHANGE_SLAB_TYPE(38,63,DIRT)

	QUICK_INFORMATION(24,"有些石头会变软，很容易被挖掘出来。",All_PLAYERS)

ENDIF

IF(PLAYER3,TIMER1 >= 45000)


	CHANGE_SLAB_TYPE(47,52,DIRT)
	CHANGE_SLAB_TYPE(47,53,DIRT)
	CHANGE_SLAB_TYPE(47,54,DIRT)
	CHANGE_SLAB_TYPE(47,55,DIRT)
	CHANGE_SLAB_TYPE(47,56,DIRT)
	CHANGE_SLAB_TYPE(47,57,DIRT)
	CHANGE_SLAB_TYPE(47,58,DIRT)
	CHANGE_SLAB_TYPE(47,59,DIRT)
	CHANGE_SLAB_TYPE(47,60,DIRT)
	CHANGE_SLAB_TYPE(47,61,DIRT)
	CHANGE_SLAB_TYPE(47,62,DIRT)
	CHANGE_SLAB_TYPE(47,63,DIRT)

	CHANGE_SLAB_TYPE(37,52,DIRT)
	CHANGE_SLAB_TYPE(37,53,DIRT)
	CHANGE_SLAB_TYPE(37,54,DIRT)
	CHANGE_SLAB_TYPE(37,55,DIRT)
	CHANGE_SLAB_TYPE(37,56,DIRT)
	CHANGE_SLAB_TYPE(37,57,DIRT)
	CHANGE_SLAB_TYPE(37,58,DIRT)
	CHANGE_SLAB_TYPE(37,59,DIRT)
	CHANGE_SLAB_TYPE(37,60,DIRT)
	CHANGE_SLAB_TYPE(37,61,DIRT)
	CHANGE_SLAB_TYPE(37,62,DIRT)
	CHANGE_SLAB_TYPE(37,63,DIRT)

	QUICK_INFORMATION(25,"某些石头会变得柔韧并且容易挖掘。",All_PLAYERS)

ENDIF

IF(PLAYER3,TIMER1 >= 55000)

	CHANGE_SLAB_TYPE(48,52,DIRT)
	CHANGE_SLAB_TYPE(48,53,DIRT)
	CHANGE_SLAB_TYPE(48,54,DIRT)
	CHANGE_SLAB_TYPE(48,55,DIRT)
	CHANGE_SLAB_TYPE(48,56,DIRT)
	CHANGE_SLAB_TYPE(48,57,DIRT)
	CHANGE_SLAB_TYPE(48,58,DIRT)
	CHANGE_SLAB_TYPE(48,59,DIRT)
	CHANGE_SLAB_TYPE(48,60,DIRT)
	CHANGE_SLAB_TYPE(48,61,DIRT)
	CHANGE_SLAB_TYPE(48,62,DIRT)
	CHANGE_SLAB_TYPE(48,63,DIRT)

	CHANGE_SLAB_TYPE(36,52,DIRT)
	CHANGE_SLAB_TYPE(36,53,DIRT)
	CHANGE_SLAB_TYPE(36,54,DIRT)
	CHANGE_SLAB_TYPE(36,55,DIRT)
	CHANGE_SLAB_TYPE(36,56,DIRT)
	CHANGE_SLAB_TYPE(36,57,DIRT)
	CHANGE_SLAB_TYPE(36,58,DIRT)
	CHANGE_SLAB_TYPE(36,59,DIRT)
	CHANGE_SLAB_TYPE(36,60,DIRT)
	CHANGE_SLAB_TYPE(36,61,DIRT)
	CHANGE_SLAB_TYPE(36,62,DIRT)
	CHANGE_SLAB_TYPE(36,63,DIRT)

	CHANGE_SLAB_TYPE(49,52,DIRT)
	CHANGE_SLAB_TYPE(49,53,DIRT)
	CHANGE_SLAB_TYPE(49,54,DIRT)
	CHANGE_SLAB_TYPE(49,55,DIRT)
	CHANGE_SLAB_TYPE(49,56,DIRT)
	CHANGE_SLAB_TYPE(49,57,DIRT)
	CHANGE_SLAB_TYPE(49,58,DIRT)
	CHANGE_SLAB_TYPE(49,59,DIRT)
	CHANGE_SLAB_TYPE(49,60,DIRT)
	CHANGE_SLAB_TYPE(49,61,DIRT)
	CHANGE_SLAB_TYPE(49,62,DIRT)
	CHANGE_SLAB_TYPE(49,63,DIRT)

	CHANGE_SLAB_TYPE(35,52,DIRT)
	CHANGE_SLAB_TYPE(35,53,DIRT)
	CHANGE_SLAB_TYPE(35,54,DIRT)
	CHANGE_SLAB_TYPE(35,55,DIRT)
	CHANGE_SLAB_TYPE(35,56,DIRT)
	CHANGE_SLAB_TYPE(35,57,DIRT)
	CHANGE_SLAB_TYPE(35,58,DIRT)
	CHANGE_SLAB_TYPE(35,59,DIRT)
	CHANGE_SLAB_TYPE(35,60,DIRT)
	CHANGE_SLAB_TYPE(35,61,DIRT)
	CHANGE_SLAB_TYPE(35,62,DIRT)
	CHANGE_SLAB_TYPE(35,63,DIRT)

	CHANGE_SLAB_TYPE(50,52,DIRT)
	CHANGE_SLAB_TYPE(50,53,DIRT)
	CHANGE_SLAB_TYPE(50,54,DIRT)
	CHANGE_SLAB_TYPE(50,55,DIRT)
	CHANGE_SLAB_TYPE(50,56,DIRT)
	CHANGE_SLAB_TYPE(50,57,DIRT)
	CHANGE_SLAB_TYPE(50,58,DIRT)
	CHANGE_SLAB_TYPE(50,59,DIRT)
	CHANGE_SLAB_TYPE(50,60,DIRT)
	CHANGE_SLAB_TYPE(50,61,DIRT)
	CHANGE_SLAB_TYPE(50,62,DIRT)
	CHANGE_SLAB_TYPE(50,63,DIRT)

	CHANGE_SLAB_TYPE(34,52,DIRT)
	CHANGE_SLAB_TYPE(34,53,DIRT)
	CHANGE_SLAB_TYPE(34,54,DIRT)
	CHANGE_SLAB_TYPE(34,55,DIRT)
	CHANGE_SLAB_TYPE(34,56,DIRT)
	CHANGE_SLAB_TYPE(34,57,DIRT)
	CHANGE_SLAB_TYPE(34,58,DIRT)
	CHANGE_SLAB_TYPE(34,59,DIRT)
	CHANGE_SLAB_TYPE(34,60,DIRT)
	CHANGE_SLAB_TYPE(34,61,DIRT)
	CHANGE_SLAB_TYPE(34,62,DIRT)
	CHANGE_SLAB_TYPE(34,63,DIRT)

	CHANGE_SLAB_TYPE(51,52,DIRT)
	CHANGE_SLAB_TYPE(51,53,DIRT)
	CHANGE_SLAB_TYPE(51,54,DIRT)
	CHANGE_SLAB_TYPE(51,55,DIRT)
	CHANGE_SLAB_TYPE(51,56,DIRT)
	CHANGE_SLAB_TYPE(51,57,DIRT)
	CHANGE_SLAB_TYPE(51,58,DIRT)
	CHANGE_SLAB_TYPE(51,59,DIRT)
	CHANGE_SLAB_TYPE(51,60,DIRT)
	CHANGE_SLAB_TYPE(51,61,DIRT)
	CHANGE_SLAB_TYPE(51,62,DIRT)
	CHANGE_SLAB_TYPE(51,63,DIRT)

	CHANGE_SLAB_TYPE(33,52,DIRT)
	CHANGE_SLAB_TYPE(33,53,DIRT)
	CHANGE_SLAB_TYPE(33,54,DIRT)
	CHANGE_SLAB_TYPE(33,55,DIRT)
	CHANGE_SLAB_TYPE(33,56,DIRT)
	CHANGE_SLAB_TYPE(33,57,DIRT)
	CHANGE_SLAB_TYPE(33,58,DIRT)
	CHANGE_SLAB_TYPE(33,59,DIRT)
	CHANGE_SLAB_TYPE(33,60,DIRT)
	CHANGE_SLAB_TYPE(33,61,DIRT)
	CHANGE_SLAB_TYPE(33,62,DIRT)
	CHANGE_SLAB_TYPE(33,63,DIRT)

	CHANGE_SLAB_TYPE(52,52,DIRT)
	CHANGE_SLAB_TYPE(52,53,DIRT)
	CHANGE_SLAB_TYPE(52,54,DIRT)
	CHANGE_SLAB_TYPE(52,55,DIRT)
	CHANGE_SLAB_TYPE(52,56,DIRT)
	CHANGE_SLAB_TYPE(52,57,DIRT)
	CHANGE_SLAB_TYPE(52,58,DIRT)
	CHANGE_SLAB_TYPE(52,59,DIRT)
	CHANGE_SLAB_TYPE(52,60,DIRT)
	CHANGE_SLAB_TYPE(52,61,DIRT)
	CHANGE_SLAB_TYPE(52,62,DIRT)
	CHANGE_SLAB_TYPE(52,63,DIRT)

	CHANGE_SLAB_TYPE(32,52,DIRT)
	CHANGE_SLAB_TYPE(32,53,DIRT)
	CHANGE_SLAB_TYPE(32,54,DIRT)
	CHANGE_SLAB_TYPE(32,55,DIRT)
	CHANGE_SLAB_TYPE(32,56,DIRT)
	CHANGE_SLAB_TYPE(32,57,DIRT)
	CHANGE_SLAB_TYPE(32,58,DIRT)
	CHANGE_SLAB_TYPE(32,59,DIRT)
	CHANGE_SLAB_TYPE(32,60,DIRT)
	CHANGE_SLAB_TYPE(32,61,DIRT)
	CHANGE_SLAB_TYPE(32,62,DIRT)
	CHANGE_SLAB_TYPE(32,63,DIRT)

	CHANGE_SLAB_TYPE(53,52,DIRT)
	CHANGE_SLAB_TYPE(53,53,DIRT)
	CHANGE_SLAB_TYPE(53,54,DIRT)
	CHANGE_SLAB_TYPE(53,55,DIRT)
	CHANGE_SLAB_TYPE(53,56,DIRT)
	CHANGE_SLAB_TYPE(53,57,DIRT)
	CHANGE_SLAB_TYPE(53,58,DIRT)
	CHANGE_SLAB_TYPE(53,59,DIRT)
	CHANGE_SLAB_TYPE(53,60,DIRT)
	CHANGE_SLAB_TYPE(53,61,DIRT)
	CHANGE_SLAB_TYPE(53,62,DIRT)
	CHANGE_SLAB_TYPE(53,63,DIRT)

	CHANGE_SLAB_TYPE(31,52,DIRT)
	CHANGE_SLAB_TYPE(31,53,DIRT)
	CHANGE_SLAB_TYPE(31,54,DIRT)
	CHANGE_SLAB_TYPE(31,55,DIRT)
	CHANGE_SLAB_TYPE(31,56,DIRT)
	CHANGE_SLAB_TYPE(31,57,DIRT)
	CHANGE_SLAB_TYPE(31,58,DIRT)
	CHANGE_SLAB_TYPE(31,59,DIRT)
	CHANGE_SLAB_TYPE(31,60,DIRT)
	CHANGE_SLAB_TYPE(31,61,DIRT)
	CHANGE_SLAB_TYPE(31,62,DIRT)
	CHANGE_SLAB_TYPE(31,63,DIRT)

	CHANGE_SLAB_TYPE(54,52,DIRT)
	CHANGE_SLAB_TYPE(54,53,DIRT)
	CHANGE_SLAB_TYPE(54,54,DIRT)
	CHANGE_SLAB_TYPE(54,55,DIRT)
	CHANGE_SLAB_TYPE(54,56,DIRT)
	CHANGE_SLAB_TYPE(54,57,DIRT)
	CHANGE_SLAB_TYPE(54,58,DIRT)
	CHANGE_SLAB_TYPE(54,59,DIRT)
	CHANGE_SLAB_TYPE(54,60,DIRT)
	CHANGE_SLAB_TYPE(54,61,DIRT)
	CHANGE_SLAB_TYPE(54,62,DIRT)
	CHANGE_SLAB_TYPE(54,63,DIRT)

	CHANGE_SLAB_TYPE(30,52,DIRT)
	CHANGE_SLAB_TYPE(30,53,DIRT)
	CHANGE_SLAB_TYPE(30,54,DIRT)
	CHANGE_SLAB_TYPE(30,55,DIRT)
	CHANGE_SLAB_TYPE(30,56,DIRT)
	CHANGE_SLAB_TYPE(30,57,DIRT)
	CHANGE_SLAB_TYPE(30,58,DIRT)
	CHANGE_SLAB_TYPE(30,59,DIRT)
	CHANGE_SLAB_TYPE(30,60,DIRT)
	CHANGE_SLAB_TYPE(30,61,DIRT)
	CHANGE_SLAB_TYPE(30,62,DIRT)
	CHANGE_SLAB_TYPE(30,63,DIRT)

	CHANGE_SLAB_TYPE(46,64,DIRT)
	CHANGE_SLAB_TYPE(47,64,DIRT)
	CHANGE_SLAB_TYPE(48,64,DIRT)
	CHANGE_SLAB_TYPE(49,64,DIRT)
	CHANGE_SLAB_TYPE(50,64,DIRT)
	CHANGE_SLAB_TYPE(51,64,DIRT)
	CHANGE_SLAB_TYPE(52,64,DIRT)
	CHANGE_SLAB_TYPE(53,64,DIRT)
	CHANGE_SLAB_TYPE(54,64,DIRT)

	CHANGE_SLAB_TYPE(46,65,DIRT)
	CHANGE_SLAB_TYPE(47,65,DIRT)
	CHANGE_SLAB_TYPE(48,65,DIRT)
	CHANGE_SLAB_TYPE(49,65,DIRT)
	CHANGE_SLAB_TYPE(50,65,DIRT)
	CHANGE_SLAB_TYPE(51,65,DIRT)
	CHANGE_SLAB_TYPE(52,65,DIRT)
	CHANGE_SLAB_TYPE(53,65,DIRT)
	CHANGE_SLAB_TYPE(54,65,DIRT)

	CHANGE_SLAB_TYPE(46,66,DIRT)
	CHANGE_SLAB_TYPE(47,66,DIRT)
	CHANGE_SLAB_TYPE(48,66,DIRT)
	CHANGE_SLAB_TYPE(49,66,DIRT)
	CHANGE_SLAB_TYPE(50,66,DIRT)
	CHANGE_SLAB_TYPE(51,66,DIRT)
	CHANGE_SLAB_TYPE(52,66,DIRT)
	CHANGE_SLAB_TYPE(53,66,DIRT)
	CHANGE_SLAB_TYPE(54,66,DIRT)

	CHANGE_SLAB_TYPE(46,67,DIRT)
	CHANGE_SLAB_TYPE(47,67,DIRT)
	CHANGE_SLAB_TYPE(48,67,DIRT)
	CHANGE_SLAB_TYPE(49,67,DIRT)
	CHANGE_SLAB_TYPE(50,67,DIRT)
	CHANGE_SLAB_TYPE(51,67,DIRT)
	CHANGE_SLAB_TYPE(52,67,DIRT)
	CHANGE_SLAB_TYPE(53,67,DIRT)
	CHANGE_SLAB_TYPE(54,67,DIRT)

	CHANGE_SLAB_TYPE(46,68,DIRT)
	CHANGE_SLAB_TYPE(47,68,DIRT)
	CHANGE_SLAB_TYPE(48,68,DIRT)
	CHANGE_SLAB_TYPE(49,68,DIRT)
	CHANGE_SLAB_TYPE(50,68,DIRT)
	CHANGE_SLAB_TYPE(51,68,DIRT)
	CHANGE_SLAB_TYPE(52,68,DIRT)
	CHANGE_SLAB_TYPE(53,68,DIRT)
	CHANGE_SLAB_TYPE(54,68,DIRT)

	CHANGE_SLAB_TYPE(38,64,DIRT)
	CHANGE_SLAB_TYPE(37,64,DIRT)
	CHANGE_SLAB_TYPE(36,64,DIRT)
	CHANGE_SLAB_TYPE(35,64,DIRT)
	CHANGE_SLAB_TYPE(34,64,DIRT)
	CHANGE_SLAB_TYPE(33,64,DIRT)
	CHANGE_SLAB_TYPE(32,64,DIRT)
	CHANGE_SLAB_TYPE(31,64,DIRT)
	CHANGE_SLAB_TYPE(30,64,DIRT)

	CHANGE_SLAB_TYPE(38,65,DIRT)
	CHANGE_SLAB_TYPE(37,65,DIRT)
	CHANGE_SLAB_TYPE(36,65,DIRT)
	CHANGE_SLAB_TYPE(35,65,DIRT)
	CHANGE_SLAB_TYPE(34,65,DIRT)
	CHANGE_SLAB_TYPE(33,65,DIRT)
	CHANGE_SLAB_TYPE(32,65,DIRT)
	CHANGE_SLAB_TYPE(31,65,DIRT)
	CHANGE_SLAB_TYPE(30,65,DIRT)

	CHANGE_SLAB_TYPE(38,66,DIRT)
	CHANGE_SLAB_TYPE(37,66,DIRT)
	CHANGE_SLAB_TYPE(36,66,DIRT)
	CHANGE_SLAB_TYPE(35,66,DIRT)
	CHANGE_SLAB_TYPE(34,66,DIRT)
	CHANGE_SLAB_TYPE(33,66,DIRT)
	CHANGE_SLAB_TYPE(32,66,DIRT)
	CHANGE_SLAB_TYPE(31,66,DIRT)
	CHANGE_SLAB_TYPE(30,66,DIRT)

	CHANGE_SLAB_TYPE(38,67,DIRT)
	CHANGE_SLAB_TYPE(37,67,DIRT)
	CHANGE_SLAB_TYPE(36,67,DIRT)
	CHANGE_SLAB_TYPE(35,67,DIRT)
	CHANGE_SLAB_TYPE(34,67,DIRT)
	CHANGE_SLAB_TYPE(33,67,DIRT)
	CHANGE_SLAB_TYPE(32,67,DIRT)
	CHANGE_SLAB_TYPE(31,67,DIRT)
	CHANGE_SLAB_TYPE(30,67,DIRT)

	CHANGE_SLAB_TYPE(38,68,DIRT)
	CHANGE_SLAB_TYPE(37,68,DIRT)
	CHANGE_SLAB_TYPE(36,68,DIRT)
	CHANGE_SLAB_TYPE(35,68,DIRT)
	CHANGE_SLAB_TYPE(34,68,DIRT)
	CHANGE_SLAB_TYPE(33,68,DIRT)
	CHANGE_SLAB_TYPE(32,68,DIRT)
	CHANGE_SLAB_TYPE(31,68,DIRT)
	CHANGE_SLAB_TYPE(30,68,DIRT)


ENDIF











IF(PLAYER3,TIMER1 >= 82000)
	QUICK_INFORMATION(6,"被召唤出来的敌人们即将进入最后阶段。他们用尽最后的力量，做出最后的努力。",ALL_PLAYERS)
ENDIF



IF(PLAYER1,TIMER1 >= 89950)
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK,-4,1)
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK,-5,1)
	QUICK_INFORMATION(7,"剩余的英雄们已经聚集起来，准备消灭你。战胜他们，确保胜利。",ALL_PLAYERS)
ENDIF



IF(PLAYER1,TIMER1 >= 69700)

	QUICK_INFORMATION(12,"英雄们正在以越来越高的热情聚集和组织起来。他们的数量正在达到顶峰。",ALL_PLAYERS)
ENDIF

IF(PLAYER1,TIMER1 >= 66000)
	SET_TIMER(PLAYER2,TIMER1)
ENDIF

SET_FLAG(PLAYER2,FLAG2,0)

IF(PLAYER2,TIMER1 >= 4000)
    IF(PLAYER2,FLAG2 == 0)
	NEXT_COMMAND_REUSABLE
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ERK2,-2,1)
        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER2,FLAG2,1)
    ENDIF
ENDIF

IF(PLAYER2,FLAG2 == 1)

        NEXT_COMMAND_REUSABLE
        SET_FLAG(PLAYER2,FLAG2,0)
        NEXT_COMMAND_REUSABLE
        SET_TIMER(PLAYER2,TIMER1)
ENDIF









IF(PLAYER3,TIMER1 >= 90100)
        SET_FLAG(PLAYER1,FLAG1,3)
        SET_FLAG(PLAYER1,FLAG2,3)
        SET_FLAG(PLAYER1,FLAG3,3)
        SET_FLAG(PLAYER1,FLAG4,3)
        SET_FLAG(PLAYER2,FLAG2,3)

ENDIF










IF(PLAYER3,TIMER1 >= 90200)
	IF(PLAYER_GOOD,TOTAL_CREATURES == 0)
		WIN_GAME
		QUICK_OBJECTIVE(8,"干得漂亮，恶意守护者。你现在获得了不可阻挡的陷阱守护者的称号。",ALL_PLAYERS)
	ENDIF
ENDIF




