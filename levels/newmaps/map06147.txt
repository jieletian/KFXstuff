LEVEL_VERSION(1)

SET_GENERATE_SPEED(400)


COMPUTER_PLAYER(PLAYER1,0)

MAX_CREATURES(PLAYER0,20)
START_MONEY(PLAYER0,20000)

MAX_CREATURES(PLAYER1,60)
START_MONEY(PLAYER1,100000)

ADD_CREATURE_TO_POOL(BILE_DEMON,100)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,100)
ADD_CREATURE_TO_POOL(DEMONSPAWN,100)
ADD_CREATURE_TO_POOL(DRAGON,100)
ADD_CREATURE_TO_POOL(DRUID,100)
ADD_CREATURE_TO_POOL(HELL_HOUND,100)
ADD_CREATURE_TO_POOL(ORC,100)
ADD_CREATURE_TO_POOL(SORCEROR,100)
ADD_CREATURE_TO_POOL(TENTACLE,100)
ADD_CREATURE_TO_POOL(TROLL,100)
ADD_CREATURE_TO_POOL(ARCHER,20)
ADD_CREATURE_TO_POOL(BARBARIAN,20)
ADD_CREATURE_TO_POOL(DWARFA,20)
ADD_CREATURE_TO_POOL(FAIRY,20)
ADD_CREATURE_TO_POOL(GIANT,20)
ADD_CREATURE_TO_POOL(MONK,20)
ADD_CREATURE_TO_POOL(SAMURAI,20)
ADD_CREATURE_TO_POOL(TIME_MAGE,20)
ADD_CREATURE_TO_POOL(WITCH,20)
ADD_CREATURE_TO_POOL(WIZARD,20)


CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DEMONSPAWN,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DRUID,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TENTACLE,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TROLL,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,ARCHER,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,BARBARIAN,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,DWARFA,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,MONK,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,FAIRY,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,GIANT,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SAMURAI,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TIME_MAGE,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,WITCH,1,0)
CREATURE_AVAILABLE(ALL_PLAYERS,WIZARD,1,0)


	REM Room_Availability

		ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
		ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
		ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
		ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,0)
		ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,0)
		ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,3,0)
		ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,4,0)
		ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,1,0)
		ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,1,0)
		ROOM_AVAILABLE(ALL_PLAYERS,PRISON,4,0)
		ROOM_AVAILABLE(ALL_PLAYERS,TORTURE,4,0)
		ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,1,0)
		ROOM_AVAILABLE(ALL_PLAYERS,GRAVEYARD,1,0)
		
	REM Spells
		
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_IMP,1,1)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,1,0)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CALL_TO_ARMS,1,0)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,1,0)
		MAGIC_AVAILABLE(PLAYER0,POWER_SPEED,1,0)
		MAGIC_AVAILABLE(PLAYER1,POWER_SPEED,1,1)
		MAGIC_AVAILABLE(PLAYER1,POWER_LIGHTNING,1,0)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,1,0)
		MAGIC_AVAILABLE(PLAYER1,POWER_CAVE_IN,1,0)
		MAGIC_AVAILABLE(PLAYER1,POWER_CHICKEN,1,0)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DESTROY_WALLS,1,0)
		MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HOLD_AUDIENCE,1,0)

REM # Keeper's Doors Availablity.
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,MAGIC,1,0)

REM # Keeper's Traps Availablity.
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,1,0)
TRAP_AVAILABLE(PLAYER0,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LAVA,1,0)
TRAP_AVAILABLE(PLAYER0,WORD_OF_POWER,1,0)
TRAP_AVAILABLE(PLAYER0,LIGHTNING,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,BOULDER,1,0)
TRAP_AVAILABLE(PLAYER0,TNT,1,0)
TRAP_AVAILABLE(PLAYER0,WIND,1,0)
TRAP_AVAILABLE(PLAYER0,SENTRY,1,0)
TRAP_AVAILABLE(PLAYER0,FREEZE,1,0)
TRAP_AVAILABLE(PLAYER0,CHICKEN,1,0)
TRAP_AVAILABLE(PLAYER0,POWER,1,0)
TRAP_AVAILABLE(PLAYER0,CAVEIN,1,0)



SET_GAME_RULE(PlaceTrapsOnSubtiles,1)

SET_GAME_RULE(MaxThingsInHand,50)

SET_GAME_RULE(GemEffectiveness,50)



QUICK_OBJECTIVE(0,"你的对手捕获并招降了 3 个圣者，你需要找到一种方法来获得同等的力量来摧毁他。我听说这个王国有一些隐藏的魔法。",All_PLAYERS)


REM # Define additional traps and their crates.
NEW_TRAP_TYPE(WIND)
NEW_OBJECT_TYPE(WRKBOX_WIND)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_WIND,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(SENTRY)
NEW_OBJECT_TYPE(WRKBOX_SENTRY)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_SENTRY,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(FREEZE)
NEW_OBJECT_TYPE(WRKBOX_FREEZE)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_FREEZE,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(CHICKEN)
NEW_OBJECT_TYPE(WRKBOX_CHICKEN)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_CHICKEN,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(POWER)
NEW_OBJECT_TYPE(WRKBOX_POWER)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_POWER,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(DARKGOD)
NEW_OBJECT_TYPE(WRKBOX_DARKGOD)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_DARKGOD,Properties,CHOWNED_ON_ROOM_CLAIM)
NEW_TRAP_TYPE(CAVEIN)
NEW_OBJECT_TYPE(WRKBOX_CAVEIN)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,Genre,WORKSHOPBOX)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,AnimationID,114)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,AnimationSpeed,256)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,MaximumSize,300)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,DestroyOnLava,1)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,MapIcon,531)
SET_OBJECT_CONFIGURATION(WRKBOX_CAVEIN,Properties,CHOWNED_ON_ROOM_CLAIM)

REM # Door Configuration.
SET_DOOR_CONFIGURATION(WOOD,PanelTabIndex,0)
SET_DOOR_CONFIGURATION(BRACED,PanelTabIndex,0)
SET_DOOR_CONFIGURATION(STEEL,PanelTabIndex,13)
SET_DOOR_CONFIGURATION(STEEL,ManufactureLevel,0)
SET_DOOR_CONFIGURATION(STEEL,ManufactureRequired,10000)
SET_DOOR_CONFIGURATION(MAGIC,PanelTabIndex,14)
SET_DOOR_CONFIGURATION(MAGIC,ManufactureLevel,4)
SET_DOOR_CONFIGURATION(MAGIC,ManufactureRequired,30000)

REM # Alarm Trap Configuration.
SET_TRAP_CONFIGURATION(ALARM,PanelTabIndex,1)
SET_TRAP_CONFIGURATION(ALARM,ManufactureLevel,0)
SET_TRAP_CONFIGURATION(ALARM,ManufactureRequired,10000)
SET_TRAP_CONFIGURATION(ALARM,Shots,32767)
SET_TRAP_CONFIGURATION(ALARM,TimeBetweenShots,1200)
SET_TRAP_CONFIGURATION(ALARM,SellingValue,500)
SET_TRAP_CONFIGURATION(ALARM,TriggerType,2)
SET_TRAP_CONFIGURATION(ALARM,ActivationType,7)
SET_TRAP_CONFIGURATION(ALARM,EffectType,6)
SET_TRAP_CONFIGURATION(ALARM,Hidden,1)
SET_TRAP_CONFIGURATION(ALARM,Slappable,0)
SET_TRAP_CONFIGURATION(ALARM,Destructible,0)
SET_TRAP_CONFIGURATION(ALARM,Unstable,0)
SET_TRAP_CONFIGURATION(ALARM,TriggerAlarm,1)
SET_TRAP_CONFIGURATION(ALARM,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(ALARM,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(ALARM,Health,128)
SET_TRAP_CONFIGURATION(ALARM,ThingSize,128,256)
SET_TRAP_CONFIGURATION(ALARM,HitType,4)

REM # Poison Gas Trap Configuration.
SET_TRAP_CONFIGURATION(POISON_GAS,PanelTabIndex,2)
SET_TRAP_CONFIGURATION(POISON_GAS,ManufactureLevel,0)
SET_TRAP_CONFIGURATION(POISON_GAS,ManufactureRequired,10000)
SET_TRAP_CONFIGURATION(POISON_GAS,Shots,4)
SET_TRAP_CONFIGURATION(POISON_GAS,TimeBetweenShots,40)
SET_TRAP_CONFIGURATION(POISON_GAS,SellingValue,1000)
SET_TRAP_CONFIGURATION(POISON_GAS,TriggerType,3)
SET_TRAP_CONFIGURATION(POISON_GAS,ActivationType,5)
SET_TRAP_CONFIGURATION(POISON_GAS,EffectType,5)
SET_TRAP_CONFIGURATION(POISON_GAS,Hidden,0)
SET_TRAP_CONFIGURATION(POISON_GAS,Slappable,0)
SET_TRAP_CONFIGURATION(POISON_GAS,Destructible,1)
SET_TRAP_CONFIGURATION(POISON_GAS,Unstable,2)
SET_TRAP_CONFIGURATION(POISON_GAS,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(POISON_GAS,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(POISON_GAS,Health,1024)
SET_TRAP_CONFIGURATION(POISON_GAS,ThingSize,128,256)
SET_TRAP_CONFIGURATION(POISON_GAS,HitType,4)

REM # Wind Trap Configuration.
SET_TRAP_CONFIGURATION(WIND,NameTextID,987)
SET_TRAP_CONFIGURATION(WIND,TooltipTextID,987)
SET_TRAP_CONFIGURATION(WIND,SymbolSprites,374,432)
SET_TRAP_CONFIGURATION(WIND,PointerSprites,164)
SET_TRAP_CONFIGURATION(WIND,PanelTabIndex,3)
SET_TRAP_CONFIGURATION(WIND,Crate,WRKBOX_WIND)
SET_TRAP_CONFIGURATION(WIND,ManufactureLevel,0)
SET_TRAP_CONFIGURATION(WIND,ManufactureRequired,10000)
SET_TRAP_CONFIGURATION(WIND,Shots,3)
SET_TRAP_CONFIGURATION(WIND,TimeBetweenShots,3000)
SET_TRAP_CONFIGURATION(WIND,SellingValue,1000)
SET_TRAP_CONFIGURATION(WIND,Model,845)
SET_TRAP_CONFIGURATION(WIND,ModelSize,256)
SET_TRAP_CONFIGURATION(WIND,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(WIND,TriggerType,3)
SET_TRAP_CONFIGURATION(WIND,ActivationType,5)
SET_TRAP_CONFIGURATION(WIND,EffectType,8)
SET_TRAP_CONFIGURATION(WIND,Hidden,0)
SET_TRAP_CONFIGURATION(WIND,Slappable,1)
SET_TRAP_CONFIGURATION(WIND,Destructible,1)
SET_TRAP_CONFIGURATION(WIND,Unstable,2)
SET_TRAP_CONFIGURATION(WIND,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(WIND,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(WIND,Health,1024)
SET_TRAP_CONFIGURATION(WIND,ThingSize,128,256)
SET_TRAP_CONFIGURATION(WIND,HitType,4)

REM # Lava Trap Configuration (Spitfire Trap).
SET_TRAP_CONFIGURATION(LAVA,NameTextID,988)
SET_TRAP_CONFIGURATION(LAVA,TooltipTextID,988)
SET_TRAP_CONFIGURATION(LAVA,SymbolSprites,372,430)
SET_TRAP_CONFIGURATION(LAVA,PointerSprites,159)
SET_TRAP_CONFIGURATION(LAVA,PanelTabIndex,4)
SET_TRAP_CONFIGURATION(LAVA,ManufactureLevel,1)
SET_TRAP_CONFIGURATION(LAVA,ManufactureRequired,15000)
SET_TRAP_CONFIGURATION(LAVA,Shots,20)
SET_TRAP_CONFIGURATION(LAVA,TimeBetweenShots,10)
SET_TRAP_CONFIGURATION(LAVA,SellingValue,1000)
SET_TRAP_CONFIGURATION(LAVA,Model,844)
SET_TRAP_CONFIGURATION(LAVA,TriggerType,3)
SET_TRAP_CONFIGURATION(LAVA,ActivationType,5)
SET_TRAP_CONFIGURATION(LAVA,EffectType,7)
SET_TRAP_CONFIGURATION(LAVA,Hidden,0)
SET_TRAP_CONFIGURATION(LAVA,Slappable,0)
SET_TRAP_CONFIGURATION(LAVA,Destructible,1)
SET_TRAP_CONFIGURATION(LAVA,Unstable,2)
SET_TRAP_CONFIGURATION(LAVA,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(LAVA,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(LAVA,Health,1024)
SET_TRAP_CONFIGURATION(LAVA,ThingSize,128,256)
SET_TRAP_CONFIGURATION(LAVA,HitType,4)

REM # Boulder Trap Configuration.
SET_TRAP_CONFIGURATION(BOULDER,PanelTabIndex,5)
SET_TRAP_CONFIGURATION(BOULDER,ManufactureLevel,4)
SET_TRAP_CONFIGURATION(BOULDER,ManufactureRequired,30000)
SET_TRAP_CONFIGURATION(BOULDER,Shots,1)
SET_TRAP_CONFIGURATION(BOULDER,TimeBetweenShots,0)
SET_TRAP_CONFIGURATION(BOULDER,SellingValue,2000)
SET_TRAP_CONFIGURATION(BOULDER,TriggerType,3)
SET_TRAP_CONFIGURATION(BOULDER,ActivationType,5)
SET_TRAP_CONFIGURATION(BOULDER,Hidden,0)
SET_TRAP_CONFIGURATION(BOULDER,Slappable,1)
SET_TRAP_CONFIGURATION(BOULDER,Destructible,0)
SET_TRAP_CONFIGURATION(BOULDER,Unstable,0)
SET_TRAP_CONFIGURATION(BOULDER,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(BOULDER,PlaceOnSubtile,0)
SET_TRAP_CONFIGURATION(BOULDER,Health,128)

REM # Word Of Power Trap Configuration (Hailstorm Trap).
SET_TRAP_CONFIGURATION(WORD_OF_POWER,NameTextID,244)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,TooltipTextID,244)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,SymbolSprites,384,442)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PointerSprites,161)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PanelTabIndex,6)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ManufactureLevel,2)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ManufactureRequired,20000)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Shots,10)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,TimeBetweenShots,16)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,SellingValue,1000)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Model,845)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,TriggerType,3)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ActivationType,5)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,EffectType,13)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Hidden,0)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Slappable,0)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Destructible,1)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Unstable,2)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,Health,1024)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,ThingSize,128,256)
SET_TRAP_CONFIGURATION(WORD_OF_POWER,HitType,4)

REM # Freeze Trap Configuration.
SET_TRAP_CONFIGURATION(FREEZE,NameTextID,982)
SET_TRAP_CONFIGURATION(FREEZE,TooltipTextID,982)
SET_TRAP_CONFIGURATION(FREEZE,SymbolSprites,523,406)
SET_TRAP_CONFIGURATION(FREEZE,PointerSprites,160)
SET_TRAP_CONFIGURATION(FREEZE,PanelTabIndex,7)
SET_TRAP_CONFIGURATION(FREEZE,Crate,WRKBOX_FREEZE)
SET_TRAP_CONFIGURATION(FREEZE,ManufactureLevel,2)
SET_TRAP_CONFIGURATION(FREEZE,ManufactureRequired,20000)
SET_TRAP_CONFIGURATION(FREEZE,Shots,10)
SET_TRAP_CONFIGURATION(FREEZE,TimeBetweenShots,375)
SET_TRAP_CONFIGURATION(FREEZE,SellingValue,1000)
SET_TRAP_CONFIGURATION(FREEZE,Model,845)
SET_TRAP_CONFIGURATION(FREEZE,ModelSize,256)
SET_TRAP_CONFIGURATION(FREEZE,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(FREEZE,TriggerType,3)
SET_TRAP_CONFIGURATION(FREEZE,ActivationType,5)
SET_TRAP_CONFIGURATION(FREEZE,EffectType,3)
SET_TRAP_CONFIGURATION(FREEZE,Hidden,0)
SET_TRAP_CONFIGURATION(FREEZE,Slappable,0)
SET_TRAP_CONFIGURATION(FREEZE,Destructible,1)
SET_TRAP_CONFIGURATION(FREEZE,Unstable,2)
SET_TRAP_CONFIGURATION(FREEZE,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(FREEZE,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(FREEZE,Health,1024)
SET_TRAP_CONFIGURATION(FREEZE,ThingSize,128,256)
SET_TRAP_CONFIGURATION(FREEZE,HitType,4)

REM # Chicken Trap Configuration.
SET_TRAP_CONFIGURATION(CHICKEN,NameTextID,989)
SET_TRAP_CONFIGURATION(CHICKEN,TooltipTextID,989)
SET_TRAP_CONFIGURATION(CHICKEN,SymbolSprites,306,314)
SET_TRAP_CONFIGURATION(CHICKEN,PointerSprites,CHICKEN_CURSOR)
SET_TRAP_CONFIGURATION(CHICKEN,PanelTabIndex,8)
SET_TRAP_CONFIGURATION(CHICKEN,Crate,WRKBOX_CHICKEN)
SET_TRAP_CONFIGURATION(CHICKEN,ManufactureLevel,2)
SET_TRAP_CONFIGURATION(CHICKEN,ManufactureRequired,20000)
SET_TRAP_CONFIGURATION(CHICKEN,Shots,6)
SET_TRAP_CONFIGURATION(CHICKEN,TimeBetweenShots,200)
SET_TRAP_CONFIGURATION(CHICKEN,SellingValue,1000)
SET_TRAP_CONFIGURATION(CHICKEN,Model,845)
SET_TRAP_CONFIGURATION(CHICKEN,ModelSize,256)
SET_TRAP_CONFIGURATION(CHICKEN,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(CHICKEN,TriggerType,3)
SET_TRAP_CONFIGURATION(CHICKEN,ActivationType,5)
SET_TRAP_CONFIGURATION(CHICKEN,EffectType,27)
SET_TRAP_CONFIGURATION(CHICKEN,Hidden,0)
SET_TRAP_CONFIGURATION(CHICKEN,Slappable,0)
SET_TRAP_CONFIGURATION(CHICKEN,Destructible,1)
SET_TRAP_CONFIGURATION(CHICKEN,Unstable,2)
SET_TRAP_CONFIGURATION(CHICKEN,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(CHICKEN,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(CHICKEN,Health,1024)
SET_TRAP_CONFIGURATION(CHICKEN,ThingSize,128,256)
SET_TRAP_CONFIGURATION(CHICKEN,HitType,4)

REM # CaveIn Trap Configuration.
SET_TRAP_CONFIGURATION(CAVEIN,NameTextID,635)
SET_TRAP_CONFIGURATION(CAVEIN,TooltipTextID,652)
SET_TRAP_CONFIGURATION(CAVEIN,SymbolSprites,97,120)
SET_TRAP_CONFIGURATION(CAVEIN,PointerSprites,CAVEIN_CURSOR)
SET_TRAP_CONFIGURATION(CAVEIN,PanelTabIndex,9)
SET_TRAP_CONFIGURATION(CAVEIN,Crate,WRKBOX_CAVEIN)
SET_TRAP_CONFIGURATION(CAVEIN,ManufactureLevel,3)
SET_TRAP_CONFIGURATION(CAVEIN,ManufactureRequired,25000)
SET_TRAP_CONFIGURATION(CAVEIN,Shots,3)
SET_TRAP_CONFIGURATION(CAVEIN,TimeBetweenShots,10)
SET_TRAP_CONFIGURATION(CAVEIN,SellingValue,2000)
SET_TRAP_CONFIGURATION(CAVEIN,Model,844)
SET_TRAP_CONFIGURATION(CAVEIN,ModelSize,256)
SET_TRAP_CONFIGURATION(CAVEIN,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(CAVEIN,TriggerType,2)
SET_TRAP_CONFIGURATION(CAVEIN,ActivationType,7)
SET_TRAP_CONFIGURATION(CAVEIN,EffectType,7)
SET_TRAP_CONFIGURATION(CAVEIN,Hidden,0)
SET_TRAP_CONFIGURATION(CAVEIN,Slappable,0)
SET_TRAP_CONFIGURATION(CAVEIN,Destructible,1)
SET_TRAP_CONFIGURATION(CAVEIN,Unstable,2)
SET_TRAP_CONFIGURATION(CAVEIN,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(CAVEIN,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(CAVEIN,Health,1024)
SET_TRAP_CONFIGURATION(CAVEIN,ThingSize,128,256)
SET_TRAP_CONFIGURATION(CAVEIN,HitType,4)

REM # Sentry Trap Configuration.
SET_TRAP_CONFIGURATION(SENTRY,NameTextID,984)
SET_TRAP_CONFIGURATION(SENTRY,TooltipTextID,984)
SET_TRAP_CONFIGURATION(SENTRY,SymbolSprites,525,404)
SET_TRAP_CONFIGURATION(SENTRY,PointerSprites,162)
SET_TRAP_CONFIGURATION(SENTRY,PanelTabIndex,10)
SET_TRAP_CONFIGURATION(SENTRY,Crate,WRKBOX_SENTRY)
SET_TRAP_CONFIGURATION(SENTRY,ManufactureLevel,1)
SET_TRAP_CONFIGURATION(SENTRY,ManufactureRequired,15000)
SET_TRAP_CONFIGURATION(SENTRY,Shots,10)
SET_TRAP_CONFIGURATION(SENTRY,TimeBetweenShots,20)
SET_TRAP_CONFIGURATION(SENTRY,SellingValue,1000)
SET_TRAP_CONFIGURATION(SENTRY,Model,846)
SET_TRAP_CONFIGURATION(SENTRY,ModelSize,256)
SET_TRAP_CONFIGURATION(SENTRY,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(SENTRY,TriggerType,3)
SET_TRAP_CONFIGURATION(SENTRY,ActivationType,5)
SET_TRAP_CONFIGURATION(SENTRY,EffectType,10)
SET_TRAP_CONFIGURATION(SENTRY,Hidden,0)
SET_TRAP_CONFIGURATION(SENTRY,Slappable,1)
SET_TRAP_CONFIGURATION(SENTRY,Destructible,1)
SET_TRAP_CONFIGURATION(SENTRY,Unstable,2)
SET_TRAP_CONFIGURATION(SENTRY,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(SENTRY,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(SENTRY,Health,8192)
SET_TRAP_CONFIGURATION(SENTRY,ThingSize,128,256)
SET_TRAP_CONFIGURATION(SENTRY,HitType,4)

REM # Lightning Trap Configuration.
SET_TRAP_CONFIGURATION(LIGHTNING,PanelTabIndex,11)
SET_TRAP_CONFIGURATION(LIGHTNING,ManufactureLevel,3)
SET_TRAP_CONFIGURATION(LIGHTNING,ManufactureRequired,25000)
SET_TRAP_CONFIGURATION(LIGHTNING,Shots,5)
SET_TRAP_CONFIGURATION(LIGHTNING,TimeBetweenShots,30)
SET_TRAP_CONFIGURATION(LIGHTNING,SellingValue,1000)
SET_TRAP_CONFIGURATION(LIGHTNING,TriggerType,3)
SET_TRAP_CONFIGURATION(LIGHTNING,ActivationType,5)
SET_TRAP_CONFIGURATION(LIGHTNING,EffectType,4)
SET_TRAP_CONFIGURATION(LIGHTNING,Hidden,0)
SET_TRAP_CONFIGURATION(LIGHTNING,Slappable,0)
SET_TRAP_CONFIGURATION(LIGHTNING,Destructible,1)
SET_TRAP_CONFIGURATION(LIGHTNING,Unstable,2)
SET_TRAP_CONFIGURATION(LIGHTNING,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(LIGHTNING,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(LIGHTNING,Health,1024)
SET_TRAP_CONFIGURATION(LIGHTNING,ThingSize,128,256)
SET_TRAP_CONFIGURATION(LIGHTNING,HitType,4)

REM # Power Trap Configuration.
SET_TRAP_CONFIGURATION(POWER,NameTextID,991)
SET_TRAP_CONFIGURATION(POWER,TooltipTextID,991)
SET_TRAP_CONFIGURATION(POWER,SymbolSprites,519,513)
SET_TRAP_CONFIGURATION(POWER,PointerSprites,176)
SET_TRAP_CONFIGURATION(POWER,PanelTabIndex,12)
SET_TRAP_CONFIGURATION(POWER,Crate,WRKBOX_POWER)
SET_TRAP_CONFIGURATION(POWER,ManufactureLevel,3)
SET_TRAP_CONFIGURATION(POWER,ManufactureRequired,25000)
SET_TRAP_CONFIGURATION(POWER,Shots,20)
SET_TRAP_CONFIGURATION(POWER,TimeBetweenShots,15)
SET_TRAP_CONFIGURATION(POWER,SellingValue,1000)
SET_TRAP_CONFIGURATION(POWER,Model,844)
SET_TRAP_CONFIGURATION(POWER,ModelSize,256)
SET_TRAP_CONFIGURATION(POWER,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(POWER,TriggerType,3)
SET_TRAP_CONFIGURATION(POWER,ActivationType,5)
SET_TRAP_CONFIGURATION(POWER,EffectType,12)
SET_TRAP_CONFIGURATION(POWER,Hidden,0)
SET_TRAP_CONFIGURATION(POWER,Slappable,0)
SET_TRAP_CONFIGURATION(POWER,Destructible,1)
SET_TRAP_CONFIGURATION(POWER,Unstable,2)
SET_TRAP_CONFIGURATION(POWER,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(POWER,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(POWER,Health,1024)
SET_TRAP_CONFIGURATION(POWER,ThingSize,128,256)
SET_TRAP_CONFIGURATION(POWER,HitType,4)

REM # TNT Trap Configuration (Spawn Trap).
SET_TRAP_CONFIGURATION(TNT,NameTextID,986)
SET_TRAP_CONFIGURATION(TNT,TooltipTextID,986)
SET_TRAP_CONFIGURATION(TNT,SymbolSprites,543,545)
SET_TRAP_CONFIGURATION(TNT,PointerSprites,165)
SET_TRAP_CONFIGURATION(TNT,PanelTabIndex,15)
SET_TRAP_CONFIGURATION(TNT,ManufactureLevel,4)
SET_TRAP_CONFIGURATION(TNT,Shots,1)
SET_TRAP_CONFIGURATION(TNT,TimeBetweenShots,0)
SET_TRAP_CONFIGURATION(TNT,SellingValue,2000)
SET_TRAP_CONFIGURATION(TNT,Model,776)
SET_TRAP_CONFIGURATION(TNT,ModelSize,64)
SET_TRAP_CONFIGURATION(TNT,AnimationSpeed,256)
SET_TRAP_CONFIGURATION(TNT,TriggerType,2)
SET_TRAP_CONFIGURATION(TNT,ActivationType,6)
SET_TRAP_CONFIGURATION(TNT,EffectType,8)
SET_TRAP_CONFIGURATION(TNT,Hidden,0)
SET_TRAP_CONFIGURATION(TNT,Slappable,1)
SET_TRAP_CONFIGURATION(TNT,Destructible,1)
SET_TRAP_CONFIGURATION(TNT,Unstable,0)
SET_TRAP_CONFIGURATION(TNT,PlaceOnBridge,1)
SET_TRAP_CONFIGURATION(TNT,PlaceOnSubtile,1)
SET_TRAP_CONFIGURATION(TNT,Health,128)
SET_TRAP_CONFIGURATION(TNT,ThingSize,128,256)
SET_TRAP_CONFIGURATION(TNT,HitType,4)



REM # Dynamic EffectType for Sentry Trap & Spawn Trap.
REM # EffectType will change every 20 GT (one second) using PLAYER_GOOD,TIMER7, can be changed.
REM # If you don't use one or the other remove the line related to it and don't forget the NEXT_COMMAND_REUSABLE too.
REM # It's also possible to add more possible outcome and split them so they have different timer assigned but it's up to you to make the script for it. ;)
SET_TIMER(PLAYER_GOOD,TIMER7)
IF(PLAYER_GOOD,TIMER7 >= 20)
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 0)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,8)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,3)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,2)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 3)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,5)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 4)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,11)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 5)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,10)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,6)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 7)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,4)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 8
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,10)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,13)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,9)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,12)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 10)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,6)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,32)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 11)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,9)
		NEXT_COMMAND_REUSABLE
		ADD_TO_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,1)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
	IF(PLAYER_GOOD,BOX253_ACTIVATED == 12)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SENTRY,EffectType,2)
		NEXT_COMMAND_REUSABLE
		SET_TRAP_CONFIGURATION(SPAWN,EffectType,1)
		NEXT_COMMAND_REUSABLE
		SET_FLAG(PLAYER_GOOD,BOX253_ACTIVATED,0)
		NEXT_COMMAND_REUSABLE
		SET_TIMER(PLAYER_GOOD,TIMER7)
	ENDIF
ENDIF




SET_BOX_TOOLTIP(1,"宝盒：这个宝盒会将你最高等级的生物变成一个冥界使者。")

IF(PLAYER0,BOX1_ACTIVATED > 0)
	NEXT_COMMAND_REUSABLE
	KILL_CREATURE(PLAYER0,ANY_CREATURE,MOST_EXPERIENCED,1)
	NEXT_COMMAND_REUSABLE
	ADD_CREATURE_TO_LEVEL(PLAYER0,HORNY,LAST_EVENT,1,1,0)
	NEXT_COMMAND_REUSABLE
	SET_FLAG(PLAYER0,BOX1_ACTIVATED,0)
ENDIF

IF(PLAYER0,WORKSHOP > 4)
    QUICK_INFORMATION(2,"尝试一些新的陷阱，它们会很有帮助。")
ENDIF



CREATE_PARTY(ONE)
	ADD_TO_PARTY(ONE,DWARFA,10,1000,ATTACK_ENEMIES,0)
	ADD_TO_PARTY(ONE,DWARFA,10,1000,ATTACK_ENEMIES,0)
	ADD_TO_PARTY(ONE,DWARFA,10,1000,ATTACK_ENEMIES,0)
	ADD_TO_PARTY(ONE,DWARFA,10,1000,ATTACK_ENEMIES,0)
	ADD_TO_PARTY(ONE,DWARFA,10,1000,ATTACK_ENEMIES,0)

IF_ACTION_POINT(1,PLAYER0)
	ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ONE,2,1)
ENDIF


IF_ACTION_POINT(3,PLAYER0)
	CHANGE_SLAB_TYPE(42,78,DIRT)
	CHANGE_SLAB_TYPE(43,78,DIRT)
	CHANGE_SLAB_TYPE(44,78,DIRT)
	CHANGE_SLAB_TYPE(45,78,DIRT)
	CHANGE_SLAB_TYPE(46,78,DIRT)
	CHANGE_SLAB_TYPE(47,78,DIRT)
	QUICK_INFORMATION(1,"有些岩石变软了，可以挖掘了。",All_PLAYERS)

ENDIF



IF(PLAYER1,DUNGEON_DESTROYED == 1)
	WIN_GAME
ENDIF

